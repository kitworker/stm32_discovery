   1              		.syntax unified
   2              		.cpu cortex-m3
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 6
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.thumb
  14              		.file	"stm32f10x_i2c.c"
  15              		.text
  16              	.Ltext0:
  17              		.cfi_sections	.debug_frame
  18              		.section	.text.I2C_DeInit,"ax",%progbits
  19              		.align	2
  20              		.global	I2C_DeInit
  21              		.thumb
  22              		.thumb_func
  24              	I2C_DeInit:
  25              	.LFB29:
  26              		.file 1 "../SPL/src/stm32f10x_i2c.c"
   1:../SPL/src/stm32f10x_i2c.c **** /**
   2:../SPL/src/stm32f10x_i2c.c ****   ******************************************************************************
   3:../SPL/src/stm32f10x_i2c.c ****   * @file    stm32f10x_i2c.c
   4:../SPL/src/stm32f10x_i2c.c ****   * @author  MCD Application Team
   5:../SPL/src/stm32f10x_i2c.c ****   * @version V3.5.0
   6:../SPL/src/stm32f10x_i2c.c ****   * @date    11-March-2011
   7:../SPL/src/stm32f10x_i2c.c ****   * @brief   This file provides all the I2C firmware functions.
   8:../SPL/src/stm32f10x_i2c.c ****   ******************************************************************************
   9:../SPL/src/stm32f10x_i2c.c ****   * @attention
  10:../SPL/src/stm32f10x_i2c.c ****   *
  11:../SPL/src/stm32f10x_i2c.c ****   * THE PRESENT FIRMWARE WHICH IS FOR GUIDANCE ONLY AIMS AT PROVIDING CUSTOMERS
  12:../SPL/src/stm32f10x_i2c.c ****   * WITH CODING INFORMATION REGARDING THEIR PRODUCTS IN ORDER FOR THEM TO SAVE
  13:../SPL/src/stm32f10x_i2c.c ****   * TIME. AS A RESULT, STMICROELECTRONICS SHALL NOT BE HELD LIABLE FOR ANY
  14:../SPL/src/stm32f10x_i2c.c ****   * DIRECT, INDIRECT OR CONSEQUENTIAL DAMAGES WITH RESPECT TO ANY CLAIMS ARISING
  15:../SPL/src/stm32f10x_i2c.c ****   * FROM THE CONTENT OF SUCH FIRMWARE AND/OR THE USE MADE BY CUSTOMERS OF THE
  16:../SPL/src/stm32f10x_i2c.c ****   * CODING INFORMATION CONTAINED HEREIN IN CONNECTION WITH THEIR PRODUCTS.
  17:../SPL/src/stm32f10x_i2c.c ****   *
  18:../SPL/src/stm32f10x_i2c.c ****   * <h2><center>&copy; COPYRIGHT 2011 STMicroelectronics</center></h2>
  19:../SPL/src/stm32f10x_i2c.c ****   ******************************************************************************
  20:../SPL/src/stm32f10x_i2c.c ****   */
  21:../SPL/src/stm32f10x_i2c.c **** 
  22:../SPL/src/stm32f10x_i2c.c **** /* Includes ------------------------------------------------------------------*/
  23:../SPL/src/stm32f10x_i2c.c **** #include "stm32f10x_i2c.h"
  24:../SPL/src/stm32f10x_i2c.c **** #include "stm32f10x_rcc.h"
  25:../SPL/src/stm32f10x_i2c.c **** 
  26:../SPL/src/stm32f10x_i2c.c **** 
  27:../SPL/src/stm32f10x_i2c.c **** /** @addtogroup STM32F10x_StdPeriph_Driver
  28:../SPL/src/stm32f10x_i2c.c ****   * @{
  29:../SPL/src/stm32f10x_i2c.c ****   */
  30:../SPL/src/stm32f10x_i2c.c **** 
  31:../SPL/src/stm32f10x_i2c.c **** /** @defgroup I2C 
  32:../SPL/src/stm32f10x_i2c.c ****   * @brief I2C driver modules
  33:../SPL/src/stm32f10x_i2c.c ****   * @{
  34:../SPL/src/stm32f10x_i2c.c ****   */ 
  35:../SPL/src/stm32f10x_i2c.c **** 
  36:../SPL/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_TypesDefinitions
  37:../SPL/src/stm32f10x_i2c.c ****   * @{
  38:../SPL/src/stm32f10x_i2c.c ****   */
  39:../SPL/src/stm32f10x_i2c.c **** 
  40:../SPL/src/stm32f10x_i2c.c **** /**
  41:../SPL/src/stm32f10x_i2c.c ****   * @}
  42:../SPL/src/stm32f10x_i2c.c ****   */
  43:../SPL/src/stm32f10x_i2c.c **** 
  44:../SPL/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_Defines
  45:../SPL/src/stm32f10x_i2c.c ****   * @{
  46:../SPL/src/stm32f10x_i2c.c ****   */
  47:../SPL/src/stm32f10x_i2c.c **** 
  48:../SPL/src/stm32f10x_i2c.c **** /* I2C SPE mask */
  49:../SPL/src/stm32f10x_i2c.c **** #define CR1_PE_Set              ((uint16_t)0x0001)
  50:../SPL/src/stm32f10x_i2c.c **** #define CR1_PE_Reset            ((uint16_t)0xFFFE)
  51:../SPL/src/stm32f10x_i2c.c **** 
  52:../SPL/src/stm32f10x_i2c.c **** /* I2C START mask */
  53:../SPL/src/stm32f10x_i2c.c **** #define CR1_START_Set           ((uint16_t)0x0100)
  54:../SPL/src/stm32f10x_i2c.c **** #define CR1_START_Reset         ((uint16_t)0xFEFF)
  55:../SPL/src/stm32f10x_i2c.c **** 
  56:../SPL/src/stm32f10x_i2c.c **** /* I2C STOP mask */
  57:../SPL/src/stm32f10x_i2c.c **** #define CR1_STOP_Set            ((uint16_t)0x0200)
  58:../SPL/src/stm32f10x_i2c.c **** #define CR1_STOP_Reset          ((uint16_t)0xFDFF)
  59:../SPL/src/stm32f10x_i2c.c **** 
  60:../SPL/src/stm32f10x_i2c.c **** /* I2C ACK mask */
  61:../SPL/src/stm32f10x_i2c.c **** #define CR1_ACK_Set             ((uint16_t)0x0400)
  62:../SPL/src/stm32f10x_i2c.c **** #define CR1_ACK_Reset           ((uint16_t)0xFBFF)
  63:../SPL/src/stm32f10x_i2c.c **** 
  64:../SPL/src/stm32f10x_i2c.c **** /* I2C ENGC mask */
  65:../SPL/src/stm32f10x_i2c.c **** #define CR1_ENGC_Set            ((uint16_t)0x0040)
  66:../SPL/src/stm32f10x_i2c.c **** #define CR1_ENGC_Reset          ((uint16_t)0xFFBF)
  67:../SPL/src/stm32f10x_i2c.c **** 
  68:../SPL/src/stm32f10x_i2c.c **** /* I2C SWRST mask */
  69:../SPL/src/stm32f10x_i2c.c **** #define CR1_SWRST_Set           ((uint16_t)0x8000)
  70:../SPL/src/stm32f10x_i2c.c **** #define CR1_SWRST_Reset         ((uint16_t)0x7FFF)
  71:../SPL/src/stm32f10x_i2c.c **** 
  72:../SPL/src/stm32f10x_i2c.c **** /* I2C PEC mask */
  73:../SPL/src/stm32f10x_i2c.c **** #define CR1_PEC_Set             ((uint16_t)0x1000)
  74:../SPL/src/stm32f10x_i2c.c **** #define CR1_PEC_Reset           ((uint16_t)0xEFFF)
  75:../SPL/src/stm32f10x_i2c.c **** 
  76:../SPL/src/stm32f10x_i2c.c **** /* I2C ENPEC mask */
  77:../SPL/src/stm32f10x_i2c.c **** #define CR1_ENPEC_Set           ((uint16_t)0x0020)
  78:../SPL/src/stm32f10x_i2c.c **** #define CR1_ENPEC_Reset         ((uint16_t)0xFFDF)
  79:../SPL/src/stm32f10x_i2c.c **** 
  80:../SPL/src/stm32f10x_i2c.c **** /* I2C ENARP mask */
  81:../SPL/src/stm32f10x_i2c.c **** #define CR1_ENARP_Set           ((uint16_t)0x0010)
  82:../SPL/src/stm32f10x_i2c.c **** #define CR1_ENARP_Reset         ((uint16_t)0xFFEF)
  83:../SPL/src/stm32f10x_i2c.c **** 
  84:../SPL/src/stm32f10x_i2c.c **** /* I2C NOSTRETCH mask */
  85:../SPL/src/stm32f10x_i2c.c **** #define CR1_NOSTRETCH_Set       ((uint16_t)0x0080)
  86:../SPL/src/stm32f10x_i2c.c **** #define CR1_NOSTRETCH_Reset     ((uint16_t)0xFF7F)
  87:../SPL/src/stm32f10x_i2c.c **** 
  88:../SPL/src/stm32f10x_i2c.c **** /* I2C registers Masks */
  89:../SPL/src/stm32f10x_i2c.c **** #define CR1_CLEAR_Mask          ((uint16_t)0xFBF5)
  90:../SPL/src/stm32f10x_i2c.c **** 
  91:../SPL/src/stm32f10x_i2c.c **** /* I2C DMAEN mask */
  92:../SPL/src/stm32f10x_i2c.c **** #define CR2_DMAEN_Set           ((uint16_t)0x0800)
  93:../SPL/src/stm32f10x_i2c.c **** #define CR2_DMAEN_Reset         ((uint16_t)0xF7FF)
  94:../SPL/src/stm32f10x_i2c.c **** 
  95:../SPL/src/stm32f10x_i2c.c **** /* I2C LAST mask */
  96:../SPL/src/stm32f10x_i2c.c **** #define CR2_LAST_Set            ((uint16_t)0x1000)
  97:../SPL/src/stm32f10x_i2c.c **** #define CR2_LAST_Reset          ((uint16_t)0xEFFF)
  98:../SPL/src/stm32f10x_i2c.c **** 
  99:../SPL/src/stm32f10x_i2c.c **** /* I2C FREQ mask */
 100:../SPL/src/stm32f10x_i2c.c **** #define CR2_FREQ_Reset          ((uint16_t)0xFFC0)
 101:../SPL/src/stm32f10x_i2c.c **** 
 102:../SPL/src/stm32f10x_i2c.c **** /* I2C ADD0 mask */
 103:../SPL/src/stm32f10x_i2c.c **** #define OAR1_ADD0_Set           ((uint16_t)0x0001)
 104:../SPL/src/stm32f10x_i2c.c **** #define OAR1_ADD0_Reset         ((uint16_t)0xFFFE)
 105:../SPL/src/stm32f10x_i2c.c **** 
 106:../SPL/src/stm32f10x_i2c.c **** /* I2C ENDUAL mask */
 107:../SPL/src/stm32f10x_i2c.c **** #define OAR2_ENDUAL_Set         ((uint16_t)0x0001)
 108:../SPL/src/stm32f10x_i2c.c **** #define OAR2_ENDUAL_Reset       ((uint16_t)0xFFFE)
 109:../SPL/src/stm32f10x_i2c.c **** 
 110:../SPL/src/stm32f10x_i2c.c **** /* I2C ADD2 mask */
 111:../SPL/src/stm32f10x_i2c.c **** #define OAR2_ADD2_Reset         ((uint16_t)0xFF01)
 112:../SPL/src/stm32f10x_i2c.c **** 
 113:../SPL/src/stm32f10x_i2c.c **** /* I2C F/S mask */
 114:../SPL/src/stm32f10x_i2c.c **** #define CCR_FS_Set              ((uint16_t)0x8000)
 115:../SPL/src/stm32f10x_i2c.c **** 
 116:../SPL/src/stm32f10x_i2c.c **** /* I2C CCR mask */
 117:../SPL/src/stm32f10x_i2c.c **** #define CCR_CCR_Set             ((uint16_t)0x0FFF)
 118:../SPL/src/stm32f10x_i2c.c **** 
 119:../SPL/src/stm32f10x_i2c.c **** /* I2C FLAG mask */
 120:../SPL/src/stm32f10x_i2c.c **** #define FLAG_Mask               ((uint32_t)0x00FFFFFF)
 121:../SPL/src/stm32f10x_i2c.c **** 
 122:../SPL/src/stm32f10x_i2c.c **** /* I2C Interrupt Enable mask */
 123:../SPL/src/stm32f10x_i2c.c **** #define ITEN_Mask               ((uint32_t)0x07000000)
 124:../SPL/src/stm32f10x_i2c.c **** 
 125:../SPL/src/stm32f10x_i2c.c **** /**
 126:../SPL/src/stm32f10x_i2c.c ****   * @}
 127:../SPL/src/stm32f10x_i2c.c ****   */
 128:../SPL/src/stm32f10x_i2c.c **** 
 129:../SPL/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_Macros
 130:../SPL/src/stm32f10x_i2c.c ****   * @{
 131:../SPL/src/stm32f10x_i2c.c ****   */
 132:../SPL/src/stm32f10x_i2c.c **** 
 133:../SPL/src/stm32f10x_i2c.c **** /**
 134:../SPL/src/stm32f10x_i2c.c ****   * @}
 135:../SPL/src/stm32f10x_i2c.c ****   */
 136:../SPL/src/stm32f10x_i2c.c **** 
 137:../SPL/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_Variables
 138:../SPL/src/stm32f10x_i2c.c ****   * @{
 139:../SPL/src/stm32f10x_i2c.c ****   */
 140:../SPL/src/stm32f10x_i2c.c **** 
 141:../SPL/src/stm32f10x_i2c.c **** /**
 142:../SPL/src/stm32f10x_i2c.c ****   * @}
 143:../SPL/src/stm32f10x_i2c.c ****   */
 144:../SPL/src/stm32f10x_i2c.c **** 
 145:../SPL/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_FunctionPrototypes
 146:../SPL/src/stm32f10x_i2c.c ****   * @{
 147:../SPL/src/stm32f10x_i2c.c ****   */
 148:../SPL/src/stm32f10x_i2c.c **** 
 149:../SPL/src/stm32f10x_i2c.c **** /**
 150:../SPL/src/stm32f10x_i2c.c ****   * @}
 151:../SPL/src/stm32f10x_i2c.c ****   */
 152:../SPL/src/stm32f10x_i2c.c **** 
 153:../SPL/src/stm32f10x_i2c.c **** /** @defgroup I2C_Private_Functions
 154:../SPL/src/stm32f10x_i2c.c ****   * @{
 155:../SPL/src/stm32f10x_i2c.c ****   */
 156:../SPL/src/stm32f10x_i2c.c **** 
 157:../SPL/src/stm32f10x_i2c.c **** /**
 158:../SPL/src/stm32f10x_i2c.c ****   * @brief  Deinitializes the I2Cx peripheral registers to their default reset values.
 159:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 160:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 161:../SPL/src/stm32f10x_i2c.c ****   */
 162:../SPL/src/stm32f10x_i2c.c **** void I2C_DeInit(I2C_TypeDef* I2Cx)
 163:../SPL/src/stm32f10x_i2c.c **** {
  27              		.loc 1 163 0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 8
  30              		@ frame_needed = 1, uses_anonymous_args = 0
  31 0000 80B5     		push	{r7, lr}
  32              	.LCFI0:
  33              		.cfi_def_cfa_offset 8
  34              		.cfi_offset 7, -8
  35              		.cfi_offset 14, -4
  36 0002 82B0     		sub	sp, sp, #8
  37              	.LCFI1:
  38              		.cfi_def_cfa_offset 16
  39 0004 00AF     		add	r7, sp, #0
  40              	.LCFI2:
  41              		.cfi_def_cfa_register 7
  42 0006 7860     		str	r0, [r7, #4]
 164:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 165:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 166:../SPL/src/stm32f10x_i2c.c **** 
 167:../SPL/src/stm32f10x_i2c.c ****   if (I2Cx == I2C1)
  43              		.loc 1 167 0
  44 0008 7A68     		ldr	r2, [r7, #4]
  45 000a 104B     		ldr	r3, .L4
  46 000c 9A42     		cmp	r2, r3
  47 000e 0CD1     		bne	.L2
 168:../SPL/src/stm32f10x_i2c.c ****   {
 169:../SPL/src/stm32f10x_i2c.c ****     /* Enable I2C1 reset state */
 170:../SPL/src/stm32f10x_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_I2C1, ENABLE);
  48              		.loc 1 170 0
  49 0010 4FF40010 		mov	r0, #2097152
  50 0014 4FF00101 		mov	r1, #1
  51 0018 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 171:../SPL/src/stm32f10x_i2c.c ****     /* Release I2C1 from reset state */
 172:../SPL/src/stm32f10x_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_I2C1, DISABLE);
  52              		.loc 1 172 0
  53 001c 4FF40010 		mov	r0, #2097152
  54 0020 4FF00001 		mov	r1, #0
  55 0024 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  56 0028 0BE0     		b	.L1
  57              	.L2:
 173:../SPL/src/stm32f10x_i2c.c ****   }
 174:../SPL/src/stm32f10x_i2c.c ****   else
 175:../SPL/src/stm32f10x_i2c.c ****   {
 176:../SPL/src/stm32f10x_i2c.c ****     /* Enable I2C2 reset state */
 177:../SPL/src/stm32f10x_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_I2C2, ENABLE);
  58              		.loc 1 177 0
  59 002a 4FF48000 		mov	r0, #4194304
  60 002e 4FF00101 		mov	r1, #1
  61 0032 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
 178:../SPL/src/stm32f10x_i2c.c ****     /* Release I2C2 from reset state */
 179:../SPL/src/stm32f10x_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1Periph_I2C2, DISABLE);
  62              		.loc 1 179 0
  63 0036 4FF48000 		mov	r0, #4194304
  64 003a 4FF00001 		mov	r1, #0
  65 003e FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  66              	.L1:
 180:../SPL/src/stm32f10x_i2c.c ****   }
 181:../SPL/src/stm32f10x_i2c.c **** }
  67              		.loc 1 181 0
  68 0042 07F10807 		add	r7, r7, #8
  69 0046 BD46     		mov	sp, r7
  70 0048 80BD     		pop	{r7, pc}
  71              	.L5:
  72 004a 00BF     		.align	2
  73              	.L4:
  74 004c 00540040 		.word	1073763328
  75              		.cfi_endproc
  76              	.LFE29:
  78              		.section	.text.I2C_Init,"ax",%progbits
  79              		.align	2
  80              		.global	I2C_Init
  81              		.thumb
  82              		.thumb_func
  84              	I2C_Init:
  85              	.LFB30:
 182:../SPL/src/stm32f10x_i2c.c **** 
 183:../SPL/src/stm32f10x_i2c.c **** /**
 184:../SPL/src/stm32f10x_i2c.c ****   * @brief  Initializes the I2Cx peripheral according to the specified 
 185:../SPL/src/stm32f10x_i2c.c ****   *   parameters in the I2C_InitStruct.
 186:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 187:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_InitStruct: pointer to a I2C_InitTypeDef structure that
 188:../SPL/src/stm32f10x_i2c.c ****   *   contains the configuration information for the specified I2C peripheral.
 189:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 190:../SPL/src/stm32f10x_i2c.c ****   */
 191:../SPL/src/stm32f10x_i2c.c **** void I2C_Init(I2C_TypeDef* I2Cx, I2C_InitTypeDef* I2C_InitStruct)
 192:../SPL/src/stm32f10x_i2c.c **** {
  86              		.loc 1 192 0
  87              		.cfi_startproc
  88              		@ args = 0, pretend = 0, frame = 40
  89              		@ frame_needed = 1, uses_anonymous_args = 0
  90 0000 80B5     		push	{r7, lr}
  91              	.LCFI3:
  92              		.cfi_def_cfa_offset 8
  93              		.cfi_offset 7, -8
  94              		.cfi_offset 14, -4
  95 0002 8AB0     		sub	sp, sp, #40
  96              	.LCFI4:
  97              		.cfi_def_cfa_offset 48
  98 0004 00AF     		add	r7, sp, #0
  99              	.LCFI5:
 100              		.cfi_def_cfa_register 7
 101 0006 7860     		str	r0, [r7, #4]
 102 0008 3960     		str	r1, [r7, #0]
 193:../SPL/src/stm32f10x_i2c.c ****   uint16_t tmpreg = 0, freqrange = 0;
 103              		.loc 1 193 0
 104 000a 4FF00003 		mov	r3, #0
 105 000e FB84     		strh	r3, [r7, #38]	@ movhi
 106 0010 4FF00003 		mov	r3, #0
 107 0014 7B84     		strh	r3, [r7, #34]	@ movhi
 194:../SPL/src/stm32f10x_i2c.c ****   uint16_t result = 0x04;
 108              		.loc 1 194 0
 109 0016 4FF00403 		mov	r3, #4
 110 001a BB84     		strh	r3, [r7, #36]	@ movhi
 195:../SPL/src/stm32f10x_i2c.c ****   uint32_t pclk1 = 8000000;
 111              		.loc 1 195 0
 112 001c 5D4B     		ldr	r3, .L13
 113 001e FB61     		str	r3, [r7, #28]
 196:../SPL/src/stm32f10x_i2c.c ****   RCC_ClocksTypeDef  rcc_clocks;
 197:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 198:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 199:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_CLOCK_SPEED(I2C_InitStruct->I2C_ClockSpeed));
 200:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_MODE(I2C_InitStruct->I2C_Mode));
 201:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_DUTY_CYCLE(I2C_InitStruct->I2C_DutyCycle));
 202:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_OWN_ADDRESS1(I2C_InitStruct->I2C_OwnAddress1));
 203:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ACK_STATE(I2C_InitStruct->I2C_Ack));
 204:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ACKNOWLEDGE_ADDRESS(I2C_InitStruct->I2C_AcknowledgedAddress));
 205:../SPL/src/stm32f10x_i2c.c **** 
 206:../SPL/src/stm32f10x_i2c.c **** /*---------------------------- I2Cx CR2 Configuration ------------------------*/
 207:../SPL/src/stm32f10x_i2c.c ****   /* Get the I2Cx CR2 value */
 208:../SPL/src/stm32f10x_i2c.c ****   tmpreg = I2Cx->CR2;
 114              		.loc 1 208 0
 115 0020 7B68     		ldr	r3, [r7, #4]
 116 0022 9B88     		ldrh	r3, [r3, #4]	@ movhi
 117 0024 FB84     		strh	r3, [r7, #38]	@ movhi
 209:../SPL/src/stm32f10x_i2c.c ****   /* Clear frequency FREQ[5:0] bits */
 210:../SPL/src/stm32f10x_i2c.c ****   tmpreg &= CR2_FREQ_Reset;
 118              		.loc 1 210 0
 119 0026 FB8C     		ldrh	r3, [r7, #38]	@ movhi
 120 0028 23F03F03 		bic	r3, r3, #63
 121 002c FB84     		strh	r3, [r7, #38]	@ movhi
 211:../SPL/src/stm32f10x_i2c.c ****   /* Get pclk1 frequency value */
 212:../SPL/src/stm32f10x_i2c.c ****   RCC_GetClocksFreq(&rcc_clocks);
 122              		.loc 1 212 0
 123 002e 07F10803 		add	r3, r7, #8
 124 0032 1846     		mov	r0, r3
 125 0034 FFF7FEFF 		bl	RCC_GetClocksFreq
 213:../SPL/src/stm32f10x_i2c.c ****   pclk1 = rcc_clocks.PCLK1_Frequency;
 126              		.loc 1 213 0
 127 0038 3B69     		ldr	r3, [r7, #16]
 128 003a FB61     		str	r3, [r7, #28]
 214:../SPL/src/stm32f10x_i2c.c ****   /* Set frequency bits depending on pclk1 value */
 215:../SPL/src/stm32f10x_i2c.c ****   freqrange = (uint16_t)(pclk1 / 1000000);
 129              		.loc 1 215 0
 130 003c FA69     		ldr	r2, [r7, #28]
 131 003e 564B     		ldr	r3, .L13+4
 132 0040 A3FB0213 		umull	r1, r3, r3, r2
 133 0044 4FEA9343 		lsr	r3, r3, #18
 134 0048 7B84     		strh	r3, [r7, #34]	@ movhi
 216:../SPL/src/stm32f10x_i2c.c ****   tmpreg |= freqrange;
 135              		.loc 1 216 0
 136 004a FA8C     		ldrh	r2, [r7, #38]	@ movhi
 137 004c 7B8C     		ldrh	r3, [r7, #34]	@ movhi
 138 004e 1343     		orrs	r3, r3, r2
 139 0050 FB84     		strh	r3, [r7, #38]	@ movhi
 217:../SPL/src/stm32f10x_i2c.c ****   /* Write to I2Cx CR2 */
 218:../SPL/src/stm32f10x_i2c.c ****   I2Cx->CR2 = tmpreg;
 140              		.loc 1 218 0
 141 0052 7B68     		ldr	r3, [r7, #4]
 142 0054 FA8C     		ldrh	r2, [r7, #38]	@ movhi
 143 0056 9A80     		strh	r2, [r3, #4]	@ movhi
 219:../SPL/src/stm32f10x_i2c.c **** 
 220:../SPL/src/stm32f10x_i2c.c **** /*---------------------------- I2Cx CCR Configuration ------------------------*/
 221:../SPL/src/stm32f10x_i2c.c ****   /* Disable the selected I2C peripheral to configure TRISE */
 222:../SPL/src/stm32f10x_i2c.c ****   I2Cx->CR1 &= CR1_PE_Reset;
 144              		.loc 1 222 0
 145 0058 7B68     		ldr	r3, [r7, #4]
 146 005a 1B88     		ldrh	r3, [r3, #0]	@ movhi
 147 005c 9BB2     		uxth	r3, r3
 148 005e 23F00103 		bic	r3, r3, #1
 149 0062 9AB2     		uxth	r2, r3
 150 0064 7B68     		ldr	r3, [r7, #4]
 151 0066 1A80     		strh	r2, [r3, #0]	@ movhi
 223:../SPL/src/stm32f10x_i2c.c ****   /* Reset tmpreg value */
 224:../SPL/src/stm32f10x_i2c.c ****   /* Clear F/S, DUTY and CCR[11:0] bits */
 225:../SPL/src/stm32f10x_i2c.c ****   tmpreg = 0;
 152              		.loc 1 225 0
 153 0068 4FF00003 		mov	r3, #0
 154 006c FB84     		strh	r3, [r7, #38]	@ movhi
 226:../SPL/src/stm32f10x_i2c.c **** 
 227:../SPL/src/stm32f10x_i2c.c ****   /* Configure speed in standard mode */
 228:../SPL/src/stm32f10x_i2c.c ****   if (I2C_InitStruct->I2C_ClockSpeed <= 100000)
 155              		.loc 1 228 0
 156 006e 3B68     		ldr	r3, [r7, #0]
 157 0070 1A68     		ldr	r2, [r3, #0]
 158 0072 4A4B     		ldr	r3, .L13+8
 159 0074 9A42     		cmp	r2, r3
 160 0076 18D8     		bhi	.L7
 229:../SPL/src/stm32f10x_i2c.c ****   {
 230:../SPL/src/stm32f10x_i2c.c ****     /* Standard mode speed calculate */
 231:../SPL/src/stm32f10x_i2c.c ****     result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_ClockSpeed << 1));
 161              		.loc 1 231 0
 162 0078 3B68     		ldr	r3, [r7, #0]
 163 007a 1B68     		ldr	r3, [r3, #0]
 164 007c 4FEA4303 		lsl	r3, r3, #1
 165 0080 FA69     		ldr	r2, [r7, #28]
 166 0082 B2FBF3F3 		udiv	r3, r2, r3
 167 0086 BB84     		strh	r3, [r7, #36]	@ movhi
 232:../SPL/src/stm32f10x_i2c.c ****     /* Test if CCR value is under 0x4*/
 233:../SPL/src/stm32f10x_i2c.c ****     if (result < 0x04)
 168              		.loc 1 233 0
 169 0088 BB8C     		ldrh	r3, [r7, #36]
 170 008a 032B     		cmp	r3, #3
 171 008c 02D8     		bhi	.L8
 234:../SPL/src/stm32f10x_i2c.c ****     {
 235:../SPL/src/stm32f10x_i2c.c ****       /* Set minimum allowed value */
 236:../SPL/src/stm32f10x_i2c.c ****       result = 0x04;  
 172              		.loc 1 236 0
 173 008e 4FF00403 		mov	r3, #4
 174 0092 BB84     		strh	r3, [r7, #36]	@ movhi
 175              	.L8:
 237:../SPL/src/stm32f10x_i2c.c ****     }
 238:../SPL/src/stm32f10x_i2c.c ****     /* Set speed value for standard mode */
 239:../SPL/src/stm32f10x_i2c.c ****     tmpreg |= result;	  
 176              		.loc 1 239 0
 177 0094 FA8C     		ldrh	r2, [r7, #38]	@ movhi
 178 0096 BB8C     		ldrh	r3, [r7, #36]	@ movhi
 179 0098 1343     		orrs	r3, r3, r2
 180 009a FB84     		strh	r3, [r7, #38]	@ movhi
 240:../SPL/src/stm32f10x_i2c.c ****     /* Set Maximum Rise Time for standard mode */
 241:../SPL/src/stm32f10x_i2c.c ****     I2Cx->TRISE = freqrange + 1; 
 181              		.loc 1 241 0
 182 009c 7B8C     		ldrh	r3, [r7, #34]	@ movhi
 183 009e 03F10103 		add	r3, r3, #1
 184 00a2 9AB2     		uxth	r2, r3
 185 00a4 7B68     		ldr	r3, [r7, #4]
 186 00a6 1A84     		strh	r2, [r3, #32]	@ movhi
 187 00a8 48E0     		b	.L9
 188              	.L7:
 242:../SPL/src/stm32f10x_i2c.c ****   }
 243:../SPL/src/stm32f10x_i2c.c ****   /* Configure speed in fast mode */
 244:../SPL/src/stm32f10x_i2c.c ****   else /*(I2C_InitStruct->I2C_ClockSpeed <= 400000)*/
 245:../SPL/src/stm32f10x_i2c.c ****   {
 246:../SPL/src/stm32f10x_i2c.c ****     if (I2C_InitStruct->I2C_DutyCycle == I2C_DutyCycle_2)
 189              		.loc 1 246 0
 190 00aa 3B68     		ldr	r3, [r7, #0]
 191 00ac DA88     		ldrh	r2, [r3, #6]
 192 00ae 4BF6FF73 		movw	r3, #49151
 193 00b2 9A42     		cmp	r2, r3
 194 00b4 0AD1     		bne	.L10
 247:../SPL/src/stm32f10x_i2c.c ****     {
 248:../SPL/src/stm32f10x_i2c.c ****       /* Fast mode speed calculate: Tlow/Thigh = 2 */
 249:../SPL/src/stm32f10x_i2c.c ****       result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_ClockSpeed * 3));
 195              		.loc 1 249 0
 196 00b6 3B68     		ldr	r3, [r7, #0]
 197 00b8 1A68     		ldr	r2, [r3, #0]
 198 00ba 1346     		mov	r3, r2
 199 00bc 4FEA4303 		lsl	r3, r3, #1
 200 00c0 9B18     		adds	r3, r3, r2
 201 00c2 FA69     		ldr	r2, [r7, #28]
 202 00c4 B2FBF3F3 		udiv	r3, r2, r3
 203 00c8 BB84     		strh	r3, [r7, #36]	@ movhi
 204 00ca 10E0     		b	.L11
 205              	.L10:
 250:../SPL/src/stm32f10x_i2c.c ****     }
 251:../SPL/src/stm32f10x_i2c.c ****     else /*I2C_InitStruct->I2C_DutyCycle == I2C_DutyCycle_16_9*/
 252:../SPL/src/stm32f10x_i2c.c ****     {
 253:../SPL/src/stm32f10x_i2c.c ****       /* Fast mode speed calculate: Tlow/Thigh = 16/9 */
 254:../SPL/src/stm32f10x_i2c.c ****       result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_ClockSpeed * 25));
 206              		.loc 1 254 0
 207 00cc 3B68     		ldr	r3, [r7, #0]
 208 00ce 1A68     		ldr	r2, [r3, #0]
 209 00d0 1346     		mov	r3, r2
 210 00d2 4FEA8303 		lsl	r3, r3, #2
 211 00d6 9B18     		adds	r3, r3, r2
 212 00d8 4FEA8302 		lsl	r2, r3, #2
 213 00dc 9B18     		adds	r3, r3, r2
 214 00de FA69     		ldr	r2, [r7, #28]
 215 00e0 B2FBF3F3 		udiv	r3, r2, r3
 216 00e4 BB84     		strh	r3, [r7, #36]	@ movhi
 255:../SPL/src/stm32f10x_i2c.c ****       /* Set DUTY bit */
 256:../SPL/src/stm32f10x_i2c.c ****       result |= I2C_DutyCycle_16_9;
 217              		.loc 1 256 0
 218 00e6 BB8C     		ldrh	r3, [r7, #36]	@ movhi
 219 00e8 43F48043 		orr	r3, r3, #16384
 220 00ec BB84     		strh	r3, [r7, #36]	@ movhi
 221              	.L11:
 257:../SPL/src/stm32f10x_i2c.c ****     }
 258:../SPL/src/stm32f10x_i2c.c **** 
 259:../SPL/src/stm32f10x_i2c.c ****     /* Test if CCR value is under 0x1*/
 260:../SPL/src/stm32f10x_i2c.c ****     if ((result & CCR_CCR_Set) == 0)
 222              		.loc 1 260 0
 223 00ee BB8C     		ldrh	r3, [r7, #36]
 224 00f0 4FEA0353 		lsl	r3, r3, #20
 225 00f4 4FEA1353 		lsr	r3, r3, #20
 226 00f8 002B     		cmp	r3, #0
 227 00fa 03D1     		bne	.L12
 261:../SPL/src/stm32f10x_i2c.c ****     {
 262:../SPL/src/stm32f10x_i2c.c ****       /* Set minimum allowed value */
 263:../SPL/src/stm32f10x_i2c.c ****       result |= (uint16_t)0x0001;  
 228              		.loc 1 263 0
 229 00fc BB8C     		ldrh	r3, [r7, #36]	@ movhi
 230 00fe 43F00103 		orr	r3, r3, #1
 231 0102 BB84     		strh	r3, [r7, #36]	@ movhi
 232              	.L12:
 264:../SPL/src/stm32f10x_i2c.c ****     }
 265:../SPL/src/stm32f10x_i2c.c ****     /* Set speed value and set F/S bit for fast mode */
 266:../SPL/src/stm32f10x_i2c.c ****     tmpreg |= (uint16_t)(result | CCR_FS_Set);
 233              		.loc 1 266 0
 234 0104 BA8C     		ldrh	r2, [r7, #36]	@ movhi
 235 0106 FB8C     		ldrh	r3, [r7, #38]	@ movhi
 236 0108 1343     		orrs	r3, r3, r2
 237 010a 9BB2     		uxth	r3, r3
 238 010c 6FEA4343 		mvn	r3, r3, lsl #17
 239 0110 6FEA5343 		mvn	r3, r3, lsr #17
 240 0114 FB84     		strh	r3, [r7, #38]	@ movhi
 267:../SPL/src/stm32f10x_i2c.c ****     /* Set Maximum Rise Time for fast mode */
 268:../SPL/src/stm32f10x_i2c.c ****     I2Cx->TRISE = (uint16_t)(((freqrange * (uint16_t)300) / (uint16_t)1000) + (uint16_t)1);  
 241              		.loc 1 268 0
 242 0116 7B8C     		ldrh	r3, [r7, #34]
 243 0118 4FF49672 		mov	r2, #300
 244 011c 02FB03F3 		mul	r3, r2, r3
 245 0120 1F4A     		ldr	r2, .L13+12
 246 0122 82FB0312 		smull	r1, r2, r2, r3
 247 0126 4FEAA212 		asr	r2, r2, #6
 248 012a 4FEAE373 		asr	r3, r3, #31
 249 012e D31A     		subs	r3, r2, r3
 250 0130 9BB2     		uxth	r3, r3
 251 0132 03F10103 		add	r3, r3, #1
 252 0136 9AB2     		uxth	r2, r3
 253 0138 7B68     		ldr	r3, [r7, #4]
 254 013a 1A84     		strh	r2, [r3, #32]	@ movhi
 255              	.L9:
 269:../SPL/src/stm32f10x_i2c.c ****   }
 270:../SPL/src/stm32f10x_i2c.c **** 
 271:../SPL/src/stm32f10x_i2c.c ****   /* Write to I2Cx CCR */
 272:../SPL/src/stm32f10x_i2c.c ****   I2Cx->CCR = tmpreg;
 256              		.loc 1 272 0
 257 013c 7B68     		ldr	r3, [r7, #4]
 258 013e FA8C     		ldrh	r2, [r7, #38]	@ movhi
 259 0140 9A83     		strh	r2, [r3, #28]	@ movhi
 273:../SPL/src/stm32f10x_i2c.c ****   /* Enable the selected I2C peripheral */
 274:../SPL/src/stm32f10x_i2c.c ****   I2Cx->CR1 |= CR1_PE_Set;
 260              		.loc 1 274 0
 261 0142 7B68     		ldr	r3, [r7, #4]
 262 0144 1B88     		ldrh	r3, [r3, #0]	@ movhi
 263 0146 9BB2     		uxth	r3, r3
 264 0148 43F00103 		orr	r3, r3, #1
 265 014c 9AB2     		uxth	r2, r3
 266 014e 7B68     		ldr	r3, [r7, #4]
 267 0150 1A80     		strh	r2, [r3, #0]	@ movhi
 275:../SPL/src/stm32f10x_i2c.c **** 
 276:../SPL/src/stm32f10x_i2c.c **** /*---------------------------- I2Cx CR1 Configuration ------------------------*/
 277:../SPL/src/stm32f10x_i2c.c ****   /* Get the I2Cx CR1 value */
 278:../SPL/src/stm32f10x_i2c.c ****   tmpreg = I2Cx->CR1;
 268              		.loc 1 278 0
 269 0152 7B68     		ldr	r3, [r7, #4]
 270 0154 1B88     		ldrh	r3, [r3, #0]	@ movhi
 271 0156 FB84     		strh	r3, [r7, #38]	@ movhi
 279:../SPL/src/stm32f10x_i2c.c ****   /* Clear ACK, SMBTYPE and  SMBUS bits */
 280:../SPL/src/stm32f10x_i2c.c ****   tmpreg &= CR1_CLEAR_Mask;
 272              		.loc 1 280 0
 273 0158 FB8C     		ldrh	r3, [r7, #38]	@ movhi
 274 015a 23F48163 		bic	r3, r3, #1032
 275 015e 23F00203 		bic	r3, r3, #2
 276 0162 FB84     		strh	r3, [r7, #38]	@ movhi
 281:../SPL/src/stm32f10x_i2c.c ****   /* Configure I2Cx: mode and acknowledgement */
 282:../SPL/src/stm32f10x_i2c.c ****   /* Set SMBTYPE and SMBUS bits according to I2C_Mode value */
 283:../SPL/src/stm32f10x_i2c.c ****   /* Set ACK bit according to I2C_Ack value */
 284:../SPL/src/stm32f10x_i2c.c ****   tmpreg |= (uint16_t)((uint32_t)I2C_InitStruct->I2C_Mode | I2C_InitStruct->I2C_Ack);
 277              		.loc 1 284 0
 278 0164 3B68     		ldr	r3, [r7, #0]
 279 0166 9A88     		ldrh	r2, [r3, #4]
 280 0168 3B68     		ldr	r3, [r7, #0]
 281 016a 5B89     		ldrh	r3, [r3, #10]
 282 016c 1343     		orrs	r3, r3, r2
 283 016e 9AB2     		uxth	r2, r3
 284 0170 FB8C     		ldrh	r3, [r7, #38]	@ movhi
 285 0172 1343     		orrs	r3, r3, r2
 286 0174 FB84     		strh	r3, [r7, #38]	@ movhi
 285:../SPL/src/stm32f10x_i2c.c ****   /* Write to I2Cx CR1 */
 286:../SPL/src/stm32f10x_i2c.c ****   I2Cx->CR1 = tmpreg;
 287              		.loc 1 286 0
 288 0176 7B68     		ldr	r3, [r7, #4]
 289 0178 FA8C     		ldrh	r2, [r7, #38]	@ movhi
 290 017a 1A80     		strh	r2, [r3, #0]	@ movhi
 287:../SPL/src/stm32f10x_i2c.c **** 
 288:../SPL/src/stm32f10x_i2c.c **** /*---------------------------- I2Cx OAR1 Configuration -----------------------*/
 289:../SPL/src/stm32f10x_i2c.c ****   /* Set I2Cx Own Address1 and acknowledged address */
 290:../SPL/src/stm32f10x_i2c.c ****   I2Cx->OAR1 = (I2C_InitStruct->I2C_AcknowledgedAddress | I2C_InitStruct->I2C_OwnAddress1);
 291              		.loc 1 290 0
 292 017c 3B68     		ldr	r3, [r7, #0]
 293 017e 9A89     		ldrh	r2, [r3, #12]
 294 0180 3B68     		ldr	r3, [r7, #0]
 295 0182 1B89     		ldrh	r3, [r3, #8]
 296 0184 1343     		orrs	r3, r3, r2
 297 0186 9AB2     		uxth	r2, r3
 298 0188 7B68     		ldr	r3, [r7, #4]
 299 018a 1A81     		strh	r2, [r3, #8]	@ movhi
 291:../SPL/src/stm32f10x_i2c.c **** }
 300              		.loc 1 291 0
 301 018c 07F12807 		add	r7, r7, #40
 302 0190 BD46     		mov	sp, r7
 303 0192 80BD     		pop	{r7, pc}
 304              	.L14:
 305              		.align	2
 306              	.L13:
 307 0194 00127A00 		.word	8000000
 308 0198 83DE1B43 		.word	1125899907
 309 019c A0860100 		.word	100000
 310 01a0 D34D6210 		.word	274877907
 311              		.cfi_endproc
 312              	.LFE30:
 314              		.section	.text.I2C_StructInit,"ax",%progbits
 315              		.align	2
 316              		.global	I2C_StructInit
 317              		.thumb
 318              		.thumb_func
 320              	I2C_StructInit:
 321              	.LFB31:
 292:../SPL/src/stm32f10x_i2c.c **** 
 293:../SPL/src/stm32f10x_i2c.c **** /**
 294:../SPL/src/stm32f10x_i2c.c ****   * @brief  Fills each I2C_InitStruct member with its default value.
 295:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_InitStruct: pointer to an I2C_InitTypeDef structure which will be initialized.
 296:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 297:../SPL/src/stm32f10x_i2c.c ****   */
 298:../SPL/src/stm32f10x_i2c.c **** void I2C_StructInit(I2C_InitTypeDef* I2C_InitStruct)
 299:../SPL/src/stm32f10x_i2c.c **** {
 322              		.loc 1 299 0
 323              		.cfi_startproc
 324              		@ args = 0, pretend = 0, frame = 8
 325              		@ frame_needed = 1, uses_anonymous_args = 0
 326              		@ link register save eliminated.
 327 0000 80B4     		push	{r7}
 328              	.LCFI6:
 329              		.cfi_def_cfa_offset 4
 330              		.cfi_offset 7, -4
 331 0002 83B0     		sub	sp, sp, #12
 332              	.LCFI7:
 333              		.cfi_def_cfa_offset 16
 334 0004 00AF     		add	r7, sp, #0
 335              	.LCFI8:
 336              		.cfi_def_cfa_register 7
 337 0006 7860     		str	r0, [r7, #4]
 300:../SPL/src/stm32f10x_i2c.c **** /*---------------- Reset I2C init structure parameters values ----------------*/
 301:../SPL/src/stm32f10x_i2c.c ****   /* initialize the I2C_ClockSpeed member */
 302:../SPL/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_ClockSpeed = 5000;
 338              		.loc 1 302 0
 339 0008 7B68     		ldr	r3, [r7, #4]
 340 000a 41F28832 		movw	r2, #5000
 341 000e 1A60     		str	r2, [r3, #0]
 303:../SPL/src/stm32f10x_i2c.c ****   /* Initialize the I2C_Mode member */
 304:../SPL/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_Mode = I2C_Mode_I2C;
 342              		.loc 1 304 0
 343 0010 7B68     		ldr	r3, [r7, #4]
 344 0012 4FF00002 		mov	r2, #0
 345 0016 9A80     		strh	r2, [r3, #4]	@ movhi
 305:../SPL/src/stm32f10x_i2c.c ****   /* Initialize the I2C_DutyCycle member */
 306:../SPL/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_DutyCycle = I2C_DutyCycle_2;
 346              		.loc 1 306 0
 347 0018 7B68     		ldr	r3, [r7, #4]
 348 001a 4BF6FF72 		movw	r2, #49151
 349 001e DA80     		strh	r2, [r3, #6]	@ movhi
 307:../SPL/src/stm32f10x_i2c.c ****   /* Initialize the I2C_OwnAddress1 member */
 308:../SPL/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_OwnAddress1 = 0;
 350              		.loc 1 308 0
 351 0020 7B68     		ldr	r3, [r7, #4]
 352 0022 4FF00002 		mov	r2, #0
 353 0026 1A81     		strh	r2, [r3, #8]	@ movhi
 309:../SPL/src/stm32f10x_i2c.c ****   /* Initialize the I2C_Ack member */
 310:../SPL/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_Ack = I2C_Ack_Disable;
 354              		.loc 1 310 0
 355 0028 7B68     		ldr	r3, [r7, #4]
 356 002a 4FF00002 		mov	r2, #0
 357 002e 5A81     		strh	r2, [r3, #10]	@ movhi
 311:../SPL/src/stm32f10x_i2c.c ****   /* Initialize the I2C_AcknowledgedAddress member */
 312:../SPL/src/stm32f10x_i2c.c ****   I2C_InitStruct->I2C_AcknowledgedAddress = I2C_AcknowledgedAddress_7bit;
 358              		.loc 1 312 0
 359 0030 7B68     		ldr	r3, [r7, #4]
 360 0032 4FF48042 		mov	r2, #16384
 361 0036 9A81     		strh	r2, [r3, #12]	@ movhi
 313:../SPL/src/stm32f10x_i2c.c **** }
 362              		.loc 1 313 0
 363 0038 07F10C07 		add	r7, r7, #12
 364 003c BD46     		mov	sp, r7
 365 003e 80BC     		pop	{r7}
 366 0040 7047     		bx	lr
 367              		.cfi_endproc
 368              	.LFE31:
 370 0042 00BF     		.section	.text.I2C_Cmd,"ax",%progbits
 371              		.align	2
 372              		.global	I2C_Cmd
 373              		.thumb
 374              		.thumb_func
 376              	I2C_Cmd:
 377              	.LFB32:
 314:../SPL/src/stm32f10x_i2c.c **** 
 315:../SPL/src/stm32f10x_i2c.c **** /**
 316:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C peripheral.
 317:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 318:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2Cx peripheral. 
 319:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 320:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 321:../SPL/src/stm32f10x_i2c.c ****   */
 322:../SPL/src/stm32f10x_i2c.c **** void I2C_Cmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 323:../SPL/src/stm32f10x_i2c.c **** {
 378              		.loc 1 323 0
 379              		.cfi_startproc
 380              		@ args = 0, pretend = 0, frame = 8
 381              		@ frame_needed = 1, uses_anonymous_args = 0
 382              		@ link register save eliminated.
 383 0000 80B4     		push	{r7}
 384              	.LCFI9:
 385              		.cfi_def_cfa_offset 4
 386              		.cfi_offset 7, -4
 387 0002 83B0     		sub	sp, sp, #12
 388              	.LCFI10:
 389              		.cfi_def_cfa_offset 16
 390 0004 00AF     		add	r7, sp, #0
 391              	.LCFI11:
 392              		.cfi_def_cfa_register 7
 393 0006 7860     		str	r0, [r7, #4]
 394 0008 0B46     		mov	r3, r1
 395 000a FB70     		strb	r3, [r7, #3]
 324:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 325:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 326:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 327:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 396              		.loc 1 327 0
 397 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 398 000e 002B     		cmp	r3, #0
 399 0010 08D0     		beq	.L17
 328:../SPL/src/stm32f10x_i2c.c ****   {
 329:../SPL/src/stm32f10x_i2c.c ****     /* Enable the selected I2C peripheral */
 330:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_PE_Set;
 400              		.loc 1 330 0
 401 0012 7B68     		ldr	r3, [r7, #4]
 402 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 403 0016 9BB2     		uxth	r3, r3
 404 0018 43F00103 		orr	r3, r3, #1
 405 001c 9AB2     		uxth	r2, r3
 406 001e 7B68     		ldr	r3, [r7, #4]
 407 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 408 0022 07E0     		b	.L16
 409              	.L17:
 331:../SPL/src/stm32f10x_i2c.c ****   }
 332:../SPL/src/stm32f10x_i2c.c ****   else
 333:../SPL/src/stm32f10x_i2c.c ****   {
 334:../SPL/src/stm32f10x_i2c.c ****     /* Disable the selected I2C peripheral */
 335:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_PE_Reset;
 410              		.loc 1 335 0
 411 0024 7B68     		ldr	r3, [r7, #4]
 412 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 413 0028 9BB2     		uxth	r3, r3
 414 002a 23F00103 		bic	r3, r3, #1
 415 002e 9AB2     		uxth	r2, r3
 416 0030 7B68     		ldr	r3, [r7, #4]
 417 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 418              	.L16:
 336:../SPL/src/stm32f10x_i2c.c ****   }
 337:../SPL/src/stm32f10x_i2c.c **** }
 419              		.loc 1 337 0
 420 0034 07F10C07 		add	r7, r7, #12
 421 0038 BD46     		mov	sp, r7
 422 003a 80BC     		pop	{r7}
 423 003c 7047     		bx	lr
 424              		.cfi_endproc
 425              	.LFE32:
 427 003e 00BF     		.section	.text.I2C_DMACmd,"ax",%progbits
 428              		.align	2
 429              		.global	I2C_DMACmd
 430              		.thumb
 431              		.thumb_func
 433              	I2C_DMACmd:
 434              	.LFB33:
 338:../SPL/src/stm32f10x_i2c.c **** 
 339:../SPL/src/stm32f10x_i2c.c **** /**
 340:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C DMA requests.
 341:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 342:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C DMA transfer.
 343:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 344:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 345:../SPL/src/stm32f10x_i2c.c ****   */
 346:../SPL/src/stm32f10x_i2c.c **** void I2C_DMACmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 347:../SPL/src/stm32f10x_i2c.c **** {
 435              		.loc 1 347 0
 436              		.cfi_startproc
 437              		@ args = 0, pretend = 0, frame = 8
 438              		@ frame_needed = 1, uses_anonymous_args = 0
 439              		@ link register save eliminated.
 440 0000 80B4     		push	{r7}
 441              	.LCFI12:
 442              		.cfi_def_cfa_offset 4
 443              		.cfi_offset 7, -4
 444 0002 83B0     		sub	sp, sp, #12
 445              	.LCFI13:
 446              		.cfi_def_cfa_offset 16
 447 0004 00AF     		add	r7, sp, #0
 448              	.LCFI14:
 449              		.cfi_def_cfa_register 7
 450 0006 7860     		str	r0, [r7, #4]
 451 0008 0B46     		mov	r3, r1
 452 000a FB70     		strb	r3, [r7, #3]
 348:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 349:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 350:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 351:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 453              		.loc 1 351 0
 454 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 455 000e 002B     		cmp	r3, #0
 456 0010 08D0     		beq	.L20
 352:../SPL/src/stm32f10x_i2c.c ****   {
 353:../SPL/src/stm32f10x_i2c.c ****     /* Enable the selected I2C DMA requests */
 354:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR2 |= CR2_DMAEN_Set;
 457              		.loc 1 354 0
 458 0012 7B68     		ldr	r3, [r7, #4]
 459 0014 9B88     		ldrh	r3, [r3, #4]	@ movhi
 460 0016 9BB2     		uxth	r3, r3
 461 0018 43F40063 		orr	r3, r3, #2048
 462 001c 9AB2     		uxth	r2, r3
 463 001e 7B68     		ldr	r3, [r7, #4]
 464 0020 9A80     		strh	r2, [r3, #4]	@ movhi
 465 0022 07E0     		b	.L19
 466              	.L20:
 355:../SPL/src/stm32f10x_i2c.c ****   }
 356:../SPL/src/stm32f10x_i2c.c ****   else
 357:../SPL/src/stm32f10x_i2c.c ****   {
 358:../SPL/src/stm32f10x_i2c.c ****     /* Disable the selected I2C DMA requests */
 359:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR2 &= CR2_DMAEN_Reset;
 467              		.loc 1 359 0
 468 0024 7B68     		ldr	r3, [r7, #4]
 469 0026 9B88     		ldrh	r3, [r3, #4]	@ movhi
 470 0028 9BB2     		uxth	r3, r3
 471 002a 23F40063 		bic	r3, r3, #2048
 472 002e 9AB2     		uxth	r2, r3
 473 0030 7B68     		ldr	r3, [r7, #4]
 474 0032 9A80     		strh	r2, [r3, #4]	@ movhi
 475              	.L19:
 360:../SPL/src/stm32f10x_i2c.c ****   }
 361:../SPL/src/stm32f10x_i2c.c **** }
 476              		.loc 1 361 0
 477 0034 07F10C07 		add	r7, r7, #12
 478 0038 BD46     		mov	sp, r7
 479 003a 80BC     		pop	{r7}
 480 003c 7047     		bx	lr
 481              		.cfi_endproc
 482              	.LFE33:
 484 003e 00BF     		.section	.text.I2C_DMALastTransferCmd,"ax",%progbits
 485              		.align	2
 486              		.global	I2C_DMALastTransferCmd
 487              		.thumb
 488              		.thumb_func
 490              	I2C_DMALastTransferCmd:
 491              	.LFB34:
 362:../SPL/src/stm32f10x_i2c.c **** 
 363:../SPL/src/stm32f10x_i2c.c **** /**
 364:../SPL/src/stm32f10x_i2c.c ****   * @brief  Specifies if the next DMA transfer will be the last one.
 365:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 366:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C DMA last transfer.
 367:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 368:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 369:../SPL/src/stm32f10x_i2c.c ****   */
 370:../SPL/src/stm32f10x_i2c.c **** void I2C_DMALastTransferCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 371:../SPL/src/stm32f10x_i2c.c **** {
 492              		.loc 1 371 0
 493              		.cfi_startproc
 494              		@ args = 0, pretend = 0, frame = 8
 495              		@ frame_needed = 1, uses_anonymous_args = 0
 496              		@ link register save eliminated.
 497 0000 80B4     		push	{r7}
 498              	.LCFI15:
 499              		.cfi_def_cfa_offset 4
 500              		.cfi_offset 7, -4
 501 0002 83B0     		sub	sp, sp, #12
 502              	.LCFI16:
 503              		.cfi_def_cfa_offset 16
 504 0004 00AF     		add	r7, sp, #0
 505              	.LCFI17:
 506              		.cfi_def_cfa_register 7
 507 0006 7860     		str	r0, [r7, #4]
 508 0008 0B46     		mov	r3, r1
 509 000a FB70     		strb	r3, [r7, #3]
 372:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 373:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 374:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 375:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 510              		.loc 1 375 0
 511 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 512 000e 002B     		cmp	r3, #0
 513 0010 08D0     		beq	.L23
 376:../SPL/src/stm32f10x_i2c.c ****   {
 377:../SPL/src/stm32f10x_i2c.c ****     /* Next DMA transfer is the last transfer */
 378:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR2 |= CR2_LAST_Set;
 514              		.loc 1 378 0
 515 0012 7B68     		ldr	r3, [r7, #4]
 516 0014 9B88     		ldrh	r3, [r3, #4]	@ movhi
 517 0016 9BB2     		uxth	r3, r3
 518 0018 43F48053 		orr	r3, r3, #4096
 519 001c 9AB2     		uxth	r2, r3
 520 001e 7B68     		ldr	r3, [r7, #4]
 521 0020 9A80     		strh	r2, [r3, #4]	@ movhi
 522 0022 07E0     		b	.L22
 523              	.L23:
 379:../SPL/src/stm32f10x_i2c.c ****   }
 380:../SPL/src/stm32f10x_i2c.c ****   else
 381:../SPL/src/stm32f10x_i2c.c ****   {
 382:../SPL/src/stm32f10x_i2c.c ****     /* Next DMA transfer is not the last transfer */
 383:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR2 &= CR2_LAST_Reset;
 524              		.loc 1 383 0
 525 0024 7B68     		ldr	r3, [r7, #4]
 526 0026 9B88     		ldrh	r3, [r3, #4]	@ movhi
 527 0028 9BB2     		uxth	r3, r3
 528 002a 23F48053 		bic	r3, r3, #4096
 529 002e 9AB2     		uxth	r2, r3
 530 0030 7B68     		ldr	r3, [r7, #4]
 531 0032 9A80     		strh	r2, [r3, #4]	@ movhi
 532              	.L22:
 384:../SPL/src/stm32f10x_i2c.c ****   }
 385:../SPL/src/stm32f10x_i2c.c **** }
 533              		.loc 1 385 0
 534 0034 07F10C07 		add	r7, r7, #12
 535 0038 BD46     		mov	sp, r7
 536 003a 80BC     		pop	{r7}
 537 003c 7047     		bx	lr
 538              		.cfi_endproc
 539              	.LFE34:
 541 003e 00BF     		.section	.text.I2C_GenerateSTART,"ax",%progbits
 542              		.align	2
 543              		.global	I2C_GenerateSTART
 544              		.thumb
 545              		.thumb_func
 547              	I2C_GenerateSTART:
 548              	.LFB35:
 386:../SPL/src/stm32f10x_i2c.c **** 
 387:../SPL/src/stm32f10x_i2c.c **** /**
 388:../SPL/src/stm32f10x_i2c.c ****   * @brief  Generates I2Cx communication START condition.
 389:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 390:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C START condition generation.
 391:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 392:../SPL/src/stm32f10x_i2c.c ****   * @retval None.
 393:../SPL/src/stm32f10x_i2c.c ****   */
 394:../SPL/src/stm32f10x_i2c.c **** void I2C_GenerateSTART(I2C_TypeDef* I2Cx, FunctionalState NewState)
 395:../SPL/src/stm32f10x_i2c.c **** {
 549              		.loc 1 395 0
 550              		.cfi_startproc
 551              		@ args = 0, pretend = 0, frame = 8
 552              		@ frame_needed = 1, uses_anonymous_args = 0
 553              		@ link register save eliminated.
 554 0000 80B4     		push	{r7}
 555              	.LCFI18:
 556              		.cfi_def_cfa_offset 4
 557              		.cfi_offset 7, -4
 558 0002 83B0     		sub	sp, sp, #12
 559              	.LCFI19:
 560              		.cfi_def_cfa_offset 16
 561 0004 00AF     		add	r7, sp, #0
 562              	.LCFI20:
 563              		.cfi_def_cfa_register 7
 564 0006 7860     		str	r0, [r7, #4]
 565 0008 0B46     		mov	r3, r1
 566 000a FB70     		strb	r3, [r7, #3]
 396:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 397:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 398:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 399:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 567              		.loc 1 399 0
 568 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 569 000e 002B     		cmp	r3, #0
 570 0010 08D0     		beq	.L26
 400:../SPL/src/stm32f10x_i2c.c ****   {
 401:../SPL/src/stm32f10x_i2c.c ****     /* Generate a START condition */
 402:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_START_Set;
 571              		.loc 1 402 0
 572 0012 7B68     		ldr	r3, [r7, #4]
 573 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 574 0016 9BB2     		uxth	r3, r3
 575 0018 43F48073 		orr	r3, r3, #256
 576 001c 9AB2     		uxth	r2, r3
 577 001e 7B68     		ldr	r3, [r7, #4]
 578 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 579 0022 07E0     		b	.L25
 580              	.L26:
 403:../SPL/src/stm32f10x_i2c.c ****   }
 404:../SPL/src/stm32f10x_i2c.c ****   else
 405:../SPL/src/stm32f10x_i2c.c ****   {
 406:../SPL/src/stm32f10x_i2c.c ****     /* Disable the START condition generation */
 407:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_START_Reset;
 581              		.loc 1 407 0
 582 0024 7B68     		ldr	r3, [r7, #4]
 583 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 584 0028 9BB2     		uxth	r3, r3
 585 002a 23F48073 		bic	r3, r3, #256
 586 002e 9AB2     		uxth	r2, r3
 587 0030 7B68     		ldr	r3, [r7, #4]
 588 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 589              	.L25:
 408:../SPL/src/stm32f10x_i2c.c ****   }
 409:../SPL/src/stm32f10x_i2c.c **** }
 590              		.loc 1 409 0
 591 0034 07F10C07 		add	r7, r7, #12
 592 0038 BD46     		mov	sp, r7
 593 003a 80BC     		pop	{r7}
 594 003c 7047     		bx	lr
 595              		.cfi_endproc
 596              	.LFE35:
 598 003e 00BF     		.section	.text.I2C_GenerateSTOP,"ax",%progbits
 599              		.align	2
 600              		.global	I2C_GenerateSTOP
 601              		.thumb
 602              		.thumb_func
 604              	I2C_GenerateSTOP:
 605              	.LFB36:
 410:../SPL/src/stm32f10x_i2c.c **** 
 411:../SPL/src/stm32f10x_i2c.c **** /**
 412:../SPL/src/stm32f10x_i2c.c ****   * @brief  Generates I2Cx communication STOP condition.
 413:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 414:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C STOP condition generation.
 415:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 416:../SPL/src/stm32f10x_i2c.c ****   * @retval None.
 417:../SPL/src/stm32f10x_i2c.c ****   */
 418:../SPL/src/stm32f10x_i2c.c **** void I2C_GenerateSTOP(I2C_TypeDef* I2Cx, FunctionalState NewState)
 419:../SPL/src/stm32f10x_i2c.c **** {
 606              		.loc 1 419 0
 607              		.cfi_startproc
 608              		@ args = 0, pretend = 0, frame = 8
 609              		@ frame_needed = 1, uses_anonymous_args = 0
 610              		@ link register save eliminated.
 611 0000 80B4     		push	{r7}
 612              	.LCFI21:
 613              		.cfi_def_cfa_offset 4
 614              		.cfi_offset 7, -4
 615 0002 83B0     		sub	sp, sp, #12
 616              	.LCFI22:
 617              		.cfi_def_cfa_offset 16
 618 0004 00AF     		add	r7, sp, #0
 619              	.LCFI23:
 620              		.cfi_def_cfa_register 7
 621 0006 7860     		str	r0, [r7, #4]
 622 0008 0B46     		mov	r3, r1
 623 000a FB70     		strb	r3, [r7, #3]
 420:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 421:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 422:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 423:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 624              		.loc 1 423 0
 625 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 626 000e 002B     		cmp	r3, #0
 627 0010 08D0     		beq	.L29
 424:../SPL/src/stm32f10x_i2c.c ****   {
 425:../SPL/src/stm32f10x_i2c.c ****     /* Generate a STOP condition */
 426:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_STOP_Set;
 628              		.loc 1 426 0
 629 0012 7B68     		ldr	r3, [r7, #4]
 630 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 631 0016 9BB2     		uxth	r3, r3
 632 0018 43F40073 		orr	r3, r3, #512
 633 001c 9AB2     		uxth	r2, r3
 634 001e 7B68     		ldr	r3, [r7, #4]
 635 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 636 0022 07E0     		b	.L28
 637              	.L29:
 427:../SPL/src/stm32f10x_i2c.c ****   }
 428:../SPL/src/stm32f10x_i2c.c ****   else
 429:../SPL/src/stm32f10x_i2c.c ****   {
 430:../SPL/src/stm32f10x_i2c.c ****     /* Disable the STOP condition generation */
 431:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_STOP_Reset;
 638              		.loc 1 431 0
 639 0024 7B68     		ldr	r3, [r7, #4]
 640 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 641 0028 9BB2     		uxth	r3, r3
 642 002a 23F40073 		bic	r3, r3, #512
 643 002e 9AB2     		uxth	r2, r3
 644 0030 7B68     		ldr	r3, [r7, #4]
 645 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 646              	.L28:
 432:../SPL/src/stm32f10x_i2c.c ****   }
 433:../SPL/src/stm32f10x_i2c.c **** }
 647              		.loc 1 433 0
 648 0034 07F10C07 		add	r7, r7, #12
 649 0038 BD46     		mov	sp, r7
 650 003a 80BC     		pop	{r7}
 651 003c 7047     		bx	lr
 652              		.cfi_endproc
 653              	.LFE36:
 655 003e 00BF     		.section	.text.I2C_AcknowledgeConfig,"ax",%progbits
 656              		.align	2
 657              		.global	I2C_AcknowledgeConfig
 658              		.thumb
 659              		.thumb_func
 661              	I2C_AcknowledgeConfig:
 662              	.LFB37:
 434:../SPL/src/stm32f10x_i2c.c **** 
 435:../SPL/src/stm32f10x_i2c.c **** /**
 436:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C acknowledge feature.
 437:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 438:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C Acknowledgement.
 439:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 440:../SPL/src/stm32f10x_i2c.c ****   * @retval None.
 441:../SPL/src/stm32f10x_i2c.c ****   */
 442:../SPL/src/stm32f10x_i2c.c **** void I2C_AcknowledgeConfig(I2C_TypeDef* I2Cx, FunctionalState NewState)
 443:../SPL/src/stm32f10x_i2c.c **** {
 663              		.loc 1 443 0
 664              		.cfi_startproc
 665              		@ args = 0, pretend = 0, frame = 8
 666              		@ frame_needed = 1, uses_anonymous_args = 0
 667              		@ link register save eliminated.
 668 0000 80B4     		push	{r7}
 669              	.LCFI24:
 670              		.cfi_def_cfa_offset 4
 671              		.cfi_offset 7, -4
 672 0002 83B0     		sub	sp, sp, #12
 673              	.LCFI25:
 674              		.cfi_def_cfa_offset 16
 675 0004 00AF     		add	r7, sp, #0
 676              	.LCFI26:
 677              		.cfi_def_cfa_register 7
 678 0006 7860     		str	r0, [r7, #4]
 679 0008 0B46     		mov	r3, r1
 680 000a FB70     		strb	r3, [r7, #3]
 444:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 445:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 446:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 447:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 681              		.loc 1 447 0
 682 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 683 000e 002B     		cmp	r3, #0
 684 0010 08D0     		beq	.L32
 448:../SPL/src/stm32f10x_i2c.c ****   {
 449:../SPL/src/stm32f10x_i2c.c ****     /* Enable the acknowledgement */
 450:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_ACK_Set;
 685              		.loc 1 450 0
 686 0012 7B68     		ldr	r3, [r7, #4]
 687 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 688 0016 9BB2     		uxth	r3, r3
 689 0018 43F48063 		orr	r3, r3, #1024
 690 001c 9AB2     		uxth	r2, r3
 691 001e 7B68     		ldr	r3, [r7, #4]
 692 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 693 0022 07E0     		b	.L31
 694              	.L32:
 451:../SPL/src/stm32f10x_i2c.c ****   }
 452:../SPL/src/stm32f10x_i2c.c ****   else
 453:../SPL/src/stm32f10x_i2c.c ****   {
 454:../SPL/src/stm32f10x_i2c.c ****     /* Disable the acknowledgement */
 455:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_ACK_Reset;
 695              		.loc 1 455 0
 696 0024 7B68     		ldr	r3, [r7, #4]
 697 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 698 0028 9BB2     		uxth	r3, r3
 699 002a 23F48063 		bic	r3, r3, #1024
 700 002e 9AB2     		uxth	r2, r3
 701 0030 7B68     		ldr	r3, [r7, #4]
 702 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 703              	.L31:
 456:../SPL/src/stm32f10x_i2c.c ****   }
 457:../SPL/src/stm32f10x_i2c.c **** }
 704              		.loc 1 457 0
 705 0034 07F10C07 		add	r7, r7, #12
 706 0038 BD46     		mov	sp, r7
 707 003a 80BC     		pop	{r7}
 708 003c 7047     		bx	lr
 709              		.cfi_endproc
 710              	.LFE37:
 712 003e 00BF     		.section	.text.I2C_OwnAddress2Config,"ax",%progbits
 713              		.align	2
 714              		.global	I2C_OwnAddress2Config
 715              		.thumb
 716              		.thumb_func
 718              	I2C_OwnAddress2Config:
 719              	.LFB38:
 458:../SPL/src/stm32f10x_i2c.c **** 
 459:../SPL/src/stm32f10x_i2c.c **** /**
 460:../SPL/src/stm32f10x_i2c.c ****   * @brief  Configures the specified I2C own address2.
 461:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 462:../SPL/src/stm32f10x_i2c.c ****   * @param  Address: specifies the 7bit I2C own address2.
 463:../SPL/src/stm32f10x_i2c.c ****   * @retval None.
 464:../SPL/src/stm32f10x_i2c.c ****   */
 465:../SPL/src/stm32f10x_i2c.c **** void I2C_OwnAddress2Config(I2C_TypeDef* I2Cx, uint8_t Address)
 466:../SPL/src/stm32f10x_i2c.c **** {
 720              		.loc 1 466 0
 721              		.cfi_startproc
 722              		@ args = 0, pretend = 0, frame = 16
 723              		@ frame_needed = 1, uses_anonymous_args = 0
 724              		@ link register save eliminated.
 725 0000 80B4     		push	{r7}
 726              	.LCFI27:
 727              		.cfi_def_cfa_offset 4
 728              		.cfi_offset 7, -4
 729 0002 85B0     		sub	sp, sp, #20
 730              	.LCFI28:
 731              		.cfi_def_cfa_offset 24
 732 0004 00AF     		add	r7, sp, #0
 733              	.LCFI29:
 734              		.cfi_def_cfa_register 7
 735 0006 7860     		str	r0, [r7, #4]
 736 0008 0B46     		mov	r3, r1
 737 000a FB70     		strb	r3, [r7, #3]
 467:../SPL/src/stm32f10x_i2c.c ****   uint16_t tmpreg = 0;
 738              		.loc 1 467 0
 739 000c 4FF00003 		mov	r3, #0
 740 0010 FB81     		strh	r3, [r7, #14]	@ movhi
 468:../SPL/src/stm32f10x_i2c.c **** 
 469:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 470:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 471:../SPL/src/stm32f10x_i2c.c **** 
 472:../SPL/src/stm32f10x_i2c.c ****   /* Get the old register value */
 473:../SPL/src/stm32f10x_i2c.c ****   tmpreg = I2Cx->OAR2;
 741              		.loc 1 473 0
 742 0012 7B68     		ldr	r3, [r7, #4]
 743 0014 9B89     		ldrh	r3, [r3, #12]	@ movhi
 744 0016 FB81     		strh	r3, [r7, #14]	@ movhi
 474:../SPL/src/stm32f10x_i2c.c **** 
 475:../SPL/src/stm32f10x_i2c.c ****   /* Reset I2Cx Own address2 bit [7:1] */
 476:../SPL/src/stm32f10x_i2c.c ****   tmpreg &= OAR2_ADD2_Reset;
 745              		.loc 1 476 0
 746 0018 FB89     		ldrh	r3, [r7, #14]	@ movhi
 747 001a 23F0FE03 		bic	r3, r3, #254
 748 001e FB81     		strh	r3, [r7, #14]	@ movhi
 477:../SPL/src/stm32f10x_i2c.c **** 
 478:../SPL/src/stm32f10x_i2c.c ****   /* Set I2Cx Own address2 */
 479:../SPL/src/stm32f10x_i2c.c ****   tmpreg |= (uint16_t)((uint16_t)Address & (uint16_t)0x00FE);
 749              		.loc 1 479 0
 750 0020 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 751 0022 9BB2     		uxth	r3, r3
 752 0024 03F0FE03 		and	r3, r3, #254
 753 0028 9AB2     		uxth	r2, r3
 754 002a FB89     		ldrh	r3, [r7, #14]
 755 002c 1343     		orrs	r3, r3, r2
 756 002e 9BB2     		uxth	r3, r3
 757 0030 FB81     		strh	r3, [r7, #14]	@ movhi
 480:../SPL/src/stm32f10x_i2c.c **** 
 481:../SPL/src/stm32f10x_i2c.c ****   /* Store the new register value */
 482:../SPL/src/stm32f10x_i2c.c ****   I2Cx->OAR2 = tmpreg;
 758              		.loc 1 482 0
 759 0032 7B68     		ldr	r3, [r7, #4]
 760 0034 FA89     		ldrh	r2, [r7, #14]	@ movhi
 761 0036 9A81     		strh	r2, [r3, #12]	@ movhi
 483:../SPL/src/stm32f10x_i2c.c **** }
 762              		.loc 1 483 0
 763 0038 07F11407 		add	r7, r7, #20
 764 003c BD46     		mov	sp, r7
 765 003e 80BC     		pop	{r7}
 766 0040 7047     		bx	lr
 767              		.cfi_endproc
 768              	.LFE38:
 770 0042 00BF     		.section	.text.I2C_DualAddressCmd,"ax",%progbits
 771              		.align	2
 772              		.global	I2C_DualAddressCmd
 773              		.thumb
 774              		.thumb_func
 776              	I2C_DualAddressCmd:
 777              	.LFB39:
 484:../SPL/src/stm32f10x_i2c.c **** 
 485:../SPL/src/stm32f10x_i2c.c **** /**
 486:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C dual addressing mode.
 487:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 488:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C dual addressing mode.
 489:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 490:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 491:../SPL/src/stm32f10x_i2c.c ****   */
 492:../SPL/src/stm32f10x_i2c.c **** void I2C_DualAddressCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 493:../SPL/src/stm32f10x_i2c.c **** {
 778              		.loc 1 493 0
 779              		.cfi_startproc
 780              		@ args = 0, pretend = 0, frame = 8
 781              		@ frame_needed = 1, uses_anonymous_args = 0
 782              		@ link register save eliminated.
 783 0000 80B4     		push	{r7}
 784              	.LCFI30:
 785              		.cfi_def_cfa_offset 4
 786              		.cfi_offset 7, -4
 787 0002 83B0     		sub	sp, sp, #12
 788              	.LCFI31:
 789              		.cfi_def_cfa_offset 16
 790 0004 00AF     		add	r7, sp, #0
 791              	.LCFI32:
 792              		.cfi_def_cfa_register 7
 793 0006 7860     		str	r0, [r7, #4]
 794 0008 0B46     		mov	r3, r1
 795 000a FB70     		strb	r3, [r7, #3]
 494:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 495:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 496:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 497:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 796              		.loc 1 497 0
 797 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 798 000e 002B     		cmp	r3, #0
 799 0010 08D0     		beq	.L36
 498:../SPL/src/stm32f10x_i2c.c ****   {
 499:../SPL/src/stm32f10x_i2c.c ****     /* Enable dual addressing mode */
 500:../SPL/src/stm32f10x_i2c.c ****     I2Cx->OAR2 |= OAR2_ENDUAL_Set;
 800              		.loc 1 500 0
 801 0012 7B68     		ldr	r3, [r7, #4]
 802 0014 9B89     		ldrh	r3, [r3, #12]	@ movhi
 803 0016 9BB2     		uxth	r3, r3
 804 0018 43F00103 		orr	r3, r3, #1
 805 001c 9AB2     		uxth	r2, r3
 806 001e 7B68     		ldr	r3, [r7, #4]
 807 0020 9A81     		strh	r2, [r3, #12]	@ movhi
 808 0022 07E0     		b	.L35
 809              	.L36:
 501:../SPL/src/stm32f10x_i2c.c ****   }
 502:../SPL/src/stm32f10x_i2c.c ****   else
 503:../SPL/src/stm32f10x_i2c.c ****   {
 504:../SPL/src/stm32f10x_i2c.c ****     /* Disable dual addressing mode */
 505:../SPL/src/stm32f10x_i2c.c ****     I2Cx->OAR2 &= OAR2_ENDUAL_Reset;
 810              		.loc 1 505 0
 811 0024 7B68     		ldr	r3, [r7, #4]
 812 0026 9B89     		ldrh	r3, [r3, #12]	@ movhi
 813 0028 9BB2     		uxth	r3, r3
 814 002a 23F00103 		bic	r3, r3, #1
 815 002e 9AB2     		uxth	r2, r3
 816 0030 7B68     		ldr	r3, [r7, #4]
 817 0032 9A81     		strh	r2, [r3, #12]	@ movhi
 818              	.L35:
 506:../SPL/src/stm32f10x_i2c.c ****   }
 507:../SPL/src/stm32f10x_i2c.c **** }
 819              		.loc 1 507 0
 820 0034 07F10C07 		add	r7, r7, #12
 821 0038 BD46     		mov	sp, r7
 822 003a 80BC     		pop	{r7}
 823 003c 7047     		bx	lr
 824              		.cfi_endproc
 825              	.LFE39:
 827 003e 00BF     		.section	.text.I2C_GeneralCallCmd,"ax",%progbits
 828              		.align	2
 829              		.global	I2C_GeneralCallCmd
 830              		.thumb
 831              		.thumb_func
 833              	I2C_GeneralCallCmd:
 834              	.LFB40:
 508:../SPL/src/stm32f10x_i2c.c **** 
 509:../SPL/src/stm32f10x_i2c.c **** /**
 510:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C general call feature.
 511:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 512:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C General call.
 513:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 514:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 515:../SPL/src/stm32f10x_i2c.c ****   */
 516:../SPL/src/stm32f10x_i2c.c **** void I2C_GeneralCallCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 517:../SPL/src/stm32f10x_i2c.c **** {
 835              		.loc 1 517 0
 836              		.cfi_startproc
 837              		@ args = 0, pretend = 0, frame = 8
 838              		@ frame_needed = 1, uses_anonymous_args = 0
 839              		@ link register save eliminated.
 840 0000 80B4     		push	{r7}
 841              	.LCFI33:
 842              		.cfi_def_cfa_offset 4
 843              		.cfi_offset 7, -4
 844 0002 83B0     		sub	sp, sp, #12
 845              	.LCFI34:
 846              		.cfi_def_cfa_offset 16
 847 0004 00AF     		add	r7, sp, #0
 848              	.LCFI35:
 849              		.cfi_def_cfa_register 7
 850 0006 7860     		str	r0, [r7, #4]
 851 0008 0B46     		mov	r3, r1
 852 000a FB70     		strb	r3, [r7, #3]
 518:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 519:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 520:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 521:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 853              		.loc 1 521 0
 854 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 855 000e 002B     		cmp	r3, #0
 856 0010 08D0     		beq	.L39
 522:../SPL/src/stm32f10x_i2c.c ****   {
 523:../SPL/src/stm32f10x_i2c.c ****     /* Enable generall call */
 524:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_ENGC_Set;
 857              		.loc 1 524 0
 858 0012 7B68     		ldr	r3, [r7, #4]
 859 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 860 0016 9BB2     		uxth	r3, r3
 861 0018 43F04003 		orr	r3, r3, #64
 862 001c 9AB2     		uxth	r2, r3
 863 001e 7B68     		ldr	r3, [r7, #4]
 864 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 865 0022 07E0     		b	.L38
 866              	.L39:
 525:../SPL/src/stm32f10x_i2c.c ****   }
 526:../SPL/src/stm32f10x_i2c.c ****   else
 527:../SPL/src/stm32f10x_i2c.c ****   {
 528:../SPL/src/stm32f10x_i2c.c ****     /* Disable generall call */
 529:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_ENGC_Reset;
 867              		.loc 1 529 0
 868 0024 7B68     		ldr	r3, [r7, #4]
 869 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 870 0028 9BB2     		uxth	r3, r3
 871 002a 23F04003 		bic	r3, r3, #64
 872 002e 9AB2     		uxth	r2, r3
 873 0030 7B68     		ldr	r3, [r7, #4]
 874 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 875              	.L38:
 530:../SPL/src/stm32f10x_i2c.c ****   }
 531:../SPL/src/stm32f10x_i2c.c **** }
 876              		.loc 1 531 0
 877 0034 07F10C07 		add	r7, r7, #12
 878 0038 BD46     		mov	sp, r7
 879 003a 80BC     		pop	{r7}
 880 003c 7047     		bx	lr
 881              		.cfi_endproc
 882              	.LFE40:
 884 003e 00BF     		.section	.text.I2C_ITConfig,"ax",%progbits
 885              		.align	2
 886              		.global	I2C_ITConfig
 887              		.thumb
 888              		.thumb_func
 890              	I2C_ITConfig:
 891              	.LFB41:
 532:../SPL/src/stm32f10x_i2c.c **** 
 533:../SPL/src/stm32f10x_i2c.c **** /**
 534:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C interrupts.
 535:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 536:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_IT: specifies the I2C interrupts sources to be enabled or disabled. 
 537:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be any combination of the following values:
 538:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_BUF: Buffer interrupt mask
 539:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_EVT: Event interrupt mask
 540:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ERR: Error interrupt mask
 541:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the specified I2C interrupts.
 542:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 543:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 544:../SPL/src/stm32f10x_i2c.c ****   */
 545:../SPL/src/stm32f10x_i2c.c **** void I2C_ITConfig(I2C_TypeDef* I2Cx, uint16_t I2C_IT, FunctionalState NewState)
 546:../SPL/src/stm32f10x_i2c.c **** {
 892              		.loc 1 546 0
 893              		.cfi_startproc
 894              		@ args = 0, pretend = 0, frame = 8
 895              		@ frame_needed = 1, uses_anonymous_args = 0
 896              		@ link register save eliminated.
 897 0000 80B4     		push	{r7}
 898              	.LCFI36:
 899              		.cfi_def_cfa_offset 4
 900              		.cfi_offset 7, -4
 901 0002 83B0     		sub	sp, sp, #12
 902              	.LCFI37:
 903              		.cfi_def_cfa_offset 16
 904 0004 00AF     		add	r7, sp, #0
 905              	.LCFI38:
 906              		.cfi_def_cfa_register 7
 907 0006 7860     		str	r0, [r7, #4]
 908 0008 1346     		mov	r3, r2
 909 000a 0A46     		mov	r2, r1	@ movhi
 910 000c 7A80     		strh	r2, [r7, #2]	@ movhi
 911 000e 7B70     		strb	r3, [r7, #1]
 547:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 548:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 549:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 550:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_CONFIG_IT(I2C_IT));
 551:../SPL/src/stm32f10x_i2c.c ****   
 552:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 912              		.loc 1 552 0
 913 0010 7B78     		ldrb	r3, [r7, #1]	@ zero_extendqisi2
 914 0012 002B     		cmp	r3, #0
 915 0014 08D0     		beq	.L42
 553:../SPL/src/stm32f10x_i2c.c ****   {
 554:../SPL/src/stm32f10x_i2c.c ****     /* Enable the selected I2C interrupts */
 555:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR2 |= I2C_IT;
 916              		.loc 1 555 0
 917 0016 7B68     		ldr	r3, [r7, #4]
 918 0018 9B88     		ldrh	r3, [r3, #4]	@ movhi
 919 001a 9AB2     		uxth	r2, r3
 920 001c 7B88     		ldrh	r3, [r7, #2]	@ movhi
 921 001e 1343     		orrs	r3, r3, r2
 922 0020 9AB2     		uxth	r2, r3
 923 0022 7B68     		ldr	r3, [r7, #4]
 924 0024 9A80     		strh	r2, [r3, #4]	@ movhi
 925 0026 0AE0     		b	.L41
 926              	.L42:
 556:../SPL/src/stm32f10x_i2c.c ****   }
 557:../SPL/src/stm32f10x_i2c.c ****   else
 558:../SPL/src/stm32f10x_i2c.c ****   {
 559:../SPL/src/stm32f10x_i2c.c ****     /* Disable the selected I2C interrupts */
 560:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR2 &= (uint16_t)~I2C_IT;
 927              		.loc 1 560 0
 928 0028 7B68     		ldr	r3, [r7, #4]
 929 002a 9B88     		ldrh	r3, [r3, #4]	@ movhi
 930 002c 9AB2     		uxth	r2, r3
 931 002e 7B88     		ldrh	r3, [r7, #2]	@ movhi
 932 0030 6FEA0303 		mvn	r3, r3
 933 0034 9BB2     		uxth	r3, r3
 934 0036 1340     		ands	r3, r3, r2
 935 0038 9AB2     		uxth	r2, r3
 936 003a 7B68     		ldr	r3, [r7, #4]
 937 003c 9A80     		strh	r2, [r3, #4]	@ movhi
 938              	.L41:
 561:../SPL/src/stm32f10x_i2c.c ****   }
 562:../SPL/src/stm32f10x_i2c.c **** }
 939              		.loc 1 562 0
 940 003e 07F10C07 		add	r7, r7, #12
 941 0042 BD46     		mov	sp, r7
 942 0044 80BC     		pop	{r7}
 943 0046 7047     		bx	lr
 944              		.cfi_endproc
 945              	.LFE41:
 947              		.section	.text.I2C_SendData,"ax",%progbits
 948              		.align	2
 949              		.global	I2C_SendData
 950              		.thumb
 951              		.thumb_func
 953              	I2C_SendData:
 954              	.LFB42:
 563:../SPL/src/stm32f10x_i2c.c **** 
 564:../SPL/src/stm32f10x_i2c.c **** /**
 565:../SPL/src/stm32f10x_i2c.c ****   * @brief  Sends a data byte through the I2Cx peripheral.
 566:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 567:../SPL/src/stm32f10x_i2c.c ****   * @param  Data: Byte to be transmitted..
 568:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 569:../SPL/src/stm32f10x_i2c.c ****   */
 570:../SPL/src/stm32f10x_i2c.c **** void I2C_SendData(I2C_TypeDef* I2Cx, uint8_t Data)
 571:../SPL/src/stm32f10x_i2c.c **** {
 955              		.loc 1 571 0
 956              		.cfi_startproc
 957              		@ args = 0, pretend = 0, frame = 8
 958              		@ frame_needed = 1, uses_anonymous_args = 0
 959              		@ link register save eliminated.
 960 0000 80B4     		push	{r7}
 961              	.LCFI39:
 962              		.cfi_def_cfa_offset 4
 963              		.cfi_offset 7, -4
 964 0002 83B0     		sub	sp, sp, #12
 965              	.LCFI40:
 966              		.cfi_def_cfa_offset 16
 967 0004 00AF     		add	r7, sp, #0
 968              	.LCFI41:
 969              		.cfi_def_cfa_register 7
 970 0006 7860     		str	r0, [r7, #4]
 971 0008 0B46     		mov	r3, r1
 972 000a FB70     		strb	r3, [r7, #3]
 572:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 573:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 574:../SPL/src/stm32f10x_i2c.c ****   /* Write in the DR register the data to be sent */
 575:../SPL/src/stm32f10x_i2c.c ****   I2Cx->DR = Data;
 973              		.loc 1 575 0
 974 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 975 000e 9AB2     		uxth	r2, r3
 976 0010 7B68     		ldr	r3, [r7, #4]
 977 0012 1A82     		strh	r2, [r3, #16]	@ movhi
 576:../SPL/src/stm32f10x_i2c.c **** }
 978              		.loc 1 576 0
 979 0014 07F10C07 		add	r7, r7, #12
 980 0018 BD46     		mov	sp, r7
 981 001a 80BC     		pop	{r7}
 982 001c 7047     		bx	lr
 983              		.cfi_endproc
 984              	.LFE42:
 986 001e 00BF     		.section	.text.I2C_ReceiveData,"ax",%progbits
 987              		.align	2
 988              		.global	I2C_ReceiveData
 989              		.thumb
 990              		.thumb_func
 992              	I2C_ReceiveData:
 993              	.LFB43:
 577:../SPL/src/stm32f10x_i2c.c **** 
 578:../SPL/src/stm32f10x_i2c.c **** /**
 579:../SPL/src/stm32f10x_i2c.c ****   * @brief  Returns the most recent received data by the I2Cx peripheral.
 580:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 581:../SPL/src/stm32f10x_i2c.c ****   * @retval The value of the received data.
 582:../SPL/src/stm32f10x_i2c.c ****   */
 583:../SPL/src/stm32f10x_i2c.c **** uint8_t I2C_ReceiveData(I2C_TypeDef* I2Cx)
 584:../SPL/src/stm32f10x_i2c.c **** {
 994              		.loc 1 584 0
 995              		.cfi_startproc
 996              		@ args = 0, pretend = 0, frame = 8
 997              		@ frame_needed = 1, uses_anonymous_args = 0
 998              		@ link register save eliminated.
 999 0000 80B4     		push	{r7}
 1000              	.LCFI42:
 1001              		.cfi_def_cfa_offset 4
 1002              		.cfi_offset 7, -4
 1003 0002 83B0     		sub	sp, sp, #12
 1004              	.LCFI43:
 1005              		.cfi_def_cfa_offset 16
 1006 0004 00AF     		add	r7, sp, #0
 1007              	.LCFI44:
 1008              		.cfi_def_cfa_register 7
 1009 0006 7860     		str	r0, [r7, #4]
 585:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 586:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 587:../SPL/src/stm32f10x_i2c.c ****   /* Return the data in the DR register */
 588:../SPL/src/stm32f10x_i2c.c ****   return (uint8_t)I2Cx->DR;
 1010              		.loc 1 588 0
 1011 0008 7B68     		ldr	r3, [r7, #4]
 1012 000a 1B8A     		ldrh	r3, [r3, #16]	@ movhi
 1013 000c 9BB2     		uxth	r3, r3
 1014 000e DBB2     		uxtb	r3, r3
 589:../SPL/src/stm32f10x_i2c.c **** }
 1015              		.loc 1 589 0
 1016 0010 1846     		mov	r0, r3
 1017 0012 07F10C07 		add	r7, r7, #12
 1018 0016 BD46     		mov	sp, r7
 1019 0018 80BC     		pop	{r7}
 1020 001a 7047     		bx	lr
 1021              		.cfi_endproc
 1022              	.LFE43:
 1024              		.section	.text.I2C_Send7bitAddress,"ax",%progbits
 1025              		.align	2
 1026              		.global	I2C_Send7bitAddress
 1027              		.thumb
 1028              		.thumb_func
 1030              	I2C_Send7bitAddress:
 1031              	.LFB44:
 590:../SPL/src/stm32f10x_i2c.c **** 
 591:../SPL/src/stm32f10x_i2c.c **** /**
 592:../SPL/src/stm32f10x_i2c.c ****   * @brief  Transmits the address byte to select the slave device.
 593:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 594:../SPL/src/stm32f10x_i2c.c ****   * @param  Address: specifies the slave address which will be transmitted
 595:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_Direction: specifies whether the I2C device will be a
 596:../SPL/src/stm32f10x_i2c.c ****   *   Transmitter or a Receiver. This parameter can be one of the following values
 597:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Direction_Transmitter: Transmitter mode
 598:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Direction_Receiver: Receiver mode
 599:../SPL/src/stm32f10x_i2c.c ****   * @retval None.
 600:../SPL/src/stm32f10x_i2c.c ****   */
 601:../SPL/src/stm32f10x_i2c.c **** void I2C_Send7bitAddress(I2C_TypeDef* I2Cx, uint8_t Address, uint8_t I2C_Direction)
 602:../SPL/src/stm32f10x_i2c.c **** {
 1032              		.loc 1 602 0
 1033              		.cfi_startproc
 1034              		@ args = 0, pretend = 0, frame = 8
 1035              		@ frame_needed = 1, uses_anonymous_args = 0
 1036              		@ link register save eliminated.
 1037 0000 80B4     		push	{r7}
 1038              	.LCFI45:
 1039              		.cfi_def_cfa_offset 4
 1040              		.cfi_offset 7, -4
 1041 0002 83B0     		sub	sp, sp, #12
 1042              	.LCFI46:
 1043              		.cfi_def_cfa_offset 16
 1044 0004 00AF     		add	r7, sp, #0
 1045              	.LCFI47:
 1046              		.cfi_def_cfa_register 7
 1047 0006 7860     		str	r0, [r7, #4]
 1048 0008 1346     		mov	r3, r2
 1049 000a 0A46     		mov	r2, r1
 1050 000c FA70     		strb	r2, [r7, #3]
 1051 000e BB70     		strb	r3, [r7, #2]
 603:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 604:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 605:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_DIRECTION(I2C_Direction));
 606:../SPL/src/stm32f10x_i2c.c ****   /* Test on the direction to set/reset the read/write bit */
 607:../SPL/src/stm32f10x_i2c.c ****   if (I2C_Direction != I2C_Direction_Transmitter)
 1052              		.loc 1 607 0
 1053 0010 BB78     		ldrb	r3, [r7, #2]	@ zero_extendqisi2
 1054 0012 002B     		cmp	r3, #0
 1055 0014 04D0     		beq	.L48
 608:../SPL/src/stm32f10x_i2c.c ****   {
 609:../SPL/src/stm32f10x_i2c.c ****     /* Set the address bit0 for read */
 610:../SPL/src/stm32f10x_i2c.c ****     Address |= OAR1_ADD0_Set;
 1056              		.loc 1 610 0
 1057 0016 FB78     		ldrb	r3, [r7, #3]
 1058 0018 43F00103 		orr	r3, r3, #1
 1059 001c FB70     		strb	r3, [r7, #3]
 1060 001e 03E0     		b	.L49
 1061              	.L48:
 611:../SPL/src/stm32f10x_i2c.c ****   }
 612:../SPL/src/stm32f10x_i2c.c ****   else
 613:../SPL/src/stm32f10x_i2c.c ****   {
 614:../SPL/src/stm32f10x_i2c.c ****     /* Reset the address bit0 for write */
 615:../SPL/src/stm32f10x_i2c.c ****     Address &= OAR1_ADD0_Reset;
 1062              		.loc 1 615 0
 1063 0020 FB78     		ldrb	r3, [r7, #3]
 1064 0022 23F00103 		bic	r3, r3, #1
 1065 0026 FB70     		strb	r3, [r7, #3]
 1066              	.L49:
 616:../SPL/src/stm32f10x_i2c.c ****   }
 617:../SPL/src/stm32f10x_i2c.c ****   /* Send the address */
 618:../SPL/src/stm32f10x_i2c.c ****   I2Cx->DR = Address;
 1067              		.loc 1 618 0
 1068 0028 FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1069 002a 9AB2     		uxth	r2, r3
 1070 002c 7B68     		ldr	r3, [r7, #4]
 1071 002e 1A82     		strh	r2, [r3, #16]	@ movhi
 619:../SPL/src/stm32f10x_i2c.c **** }
 1072              		.loc 1 619 0
 1073 0030 07F10C07 		add	r7, r7, #12
 1074 0034 BD46     		mov	sp, r7
 1075 0036 80BC     		pop	{r7}
 1076 0038 7047     		bx	lr
 1077              		.cfi_endproc
 1078              	.LFE44:
 1080 003a 00BF     		.section	.text.I2C_ReadRegister,"ax",%progbits
 1081              		.align	2
 1082              		.global	I2C_ReadRegister
 1083              		.thumb
 1084              		.thumb_func
 1086              	I2C_ReadRegister:
 1087              	.LFB45:
 620:../SPL/src/stm32f10x_i2c.c **** 
 621:../SPL/src/stm32f10x_i2c.c **** /**
 622:../SPL/src/stm32f10x_i2c.c ****   * @brief  Reads the specified I2C register and returns its value.
 623:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_Register: specifies the register to read.
 624:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 625:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_CR1:  CR1 register.
 626:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_CR2:   CR2 register.
 627:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_OAR1:  OAR1 register.
 628:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_OAR2:  OAR2 register.
 629:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_DR:    DR register.
 630:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_SR1:   SR1 register.
 631:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_SR2:   SR2 register.
 632:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_CCR:   CCR register.
 633:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_Register_TRISE: TRISE register.
 634:../SPL/src/stm32f10x_i2c.c ****   * @retval The value of the read register.
 635:../SPL/src/stm32f10x_i2c.c ****   */
 636:../SPL/src/stm32f10x_i2c.c **** uint16_t I2C_ReadRegister(I2C_TypeDef* I2Cx, uint8_t I2C_Register)
 637:../SPL/src/stm32f10x_i2c.c **** {
 1088              		.loc 1 637 0
 1089              		.cfi_startproc
 1090              		@ args = 0, pretend = 0, frame = 16
 1091              		@ frame_needed = 1, uses_anonymous_args = 0
 1092              		@ link register save eliminated.
 1093 0000 80B4     		push	{r7}
 1094              	.LCFI48:
 1095              		.cfi_def_cfa_offset 4
 1096              		.cfi_offset 7, -4
 1097 0002 85B0     		sub	sp, sp, #20
 1098              	.LCFI49:
 1099              		.cfi_def_cfa_offset 24
 1100 0004 00AF     		add	r7, sp, #0
 1101              	.LCFI50:
 1102              		.cfi_def_cfa_register 7
 1103 0006 7860     		str	r0, [r7, #4]
 1104 0008 0B46     		mov	r3, r1
 1105 000a FB70     		strb	r3, [r7, #3]
 638:../SPL/src/stm32f10x_i2c.c ****   __IO uint32_t tmp = 0;
 1106              		.loc 1 638 0
 1107 000c 4FF00003 		mov	r3, #0
 1108 0010 FB60     		str	r3, [r7, #12]
 639:../SPL/src/stm32f10x_i2c.c **** 
 640:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 641:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 642:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_REGISTER(I2C_Register));
 643:../SPL/src/stm32f10x_i2c.c **** 
 644:../SPL/src/stm32f10x_i2c.c ****   tmp = (uint32_t) I2Cx;
 1109              		.loc 1 644 0
 1110 0012 7B68     		ldr	r3, [r7, #4]
 1111 0014 FB60     		str	r3, [r7, #12]
 645:../SPL/src/stm32f10x_i2c.c ****   tmp += I2C_Register;
 1112              		.loc 1 645 0
 1113 0016 FA78     		ldrb	r2, [r7, #3]	@ zero_extendqisi2
 1114 0018 FB68     		ldr	r3, [r7, #12]
 1115 001a D318     		adds	r3, r2, r3
 1116 001c FB60     		str	r3, [r7, #12]
 646:../SPL/src/stm32f10x_i2c.c **** 
 647:../SPL/src/stm32f10x_i2c.c ****   /* Return the selected register value */
 648:../SPL/src/stm32f10x_i2c.c ****   return (*(__IO uint16_t *) tmp);
 1117              		.loc 1 648 0
 1118 001e FB68     		ldr	r3, [r7, #12]
 1119 0020 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1120 0022 9BB2     		uxth	r3, r3
 649:../SPL/src/stm32f10x_i2c.c **** }
 1121              		.loc 1 649 0
 1122 0024 1846     		mov	r0, r3
 1123 0026 07F11407 		add	r7, r7, #20
 1124 002a BD46     		mov	sp, r7
 1125 002c 80BC     		pop	{r7}
 1126 002e 7047     		bx	lr
 1127              		.cfi_endproc
 1128              	.LFE45:
 1130              		.section	.text.I2C_SoftwareResetCmd,"ax",%progbits
 1131              		.align	2
 1132              		.global	I2C_SoftwareResetCmd
 1133              		.thumb
 1134              		.thumb_func
 1136              	I2C_SoftwareResetCmd:
 1137              	.LFB46:
 650:../SPL/src/stm32f10x_i2c.c **** 
 651:../SPL/src/stm32f10x_i2c.c **** /**
 652:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C software reset.
 653:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 654:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C software reset.
 655:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 656:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 657:../SPL/src/stm32f10x_i2c.c ****   */
 658:../SPL/src/stm32f10x_i2c.c **** void I2C_SoftwareResetCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 659:../SPL/src/stm32f10x_i2c.c **** {
 1138              		.loc 1 659 0
 1139              		.cfi_startproc
 1140              		@ args = 0, pretend = 0, frame = 8
 1141              		@ frame_needed = 1, uses_anonymous_args = 0
 1142              		@ link register save eliminated.
 1143 0000 80B4     		push	{r7}
 1144              	.LCFI51:
 1145              		.cfi_def_cfa_offset 4
 1146              		.cfi_offset 7, -4
 1147 0002 83B0     		sub	sp, sp, #12
 1148              	.LCFI52:
 1149              		.cfi_def_cfa_offset 16
 1150 0004 00AF     		add	r7, sp, #0
 1151              	.LCFI53:
 1152              		.cfi_def_cfa_register 7
 1153 0006 7860     		str	r0, [r7, #4]
 1154 0008 0B46     		mov	r3, r1
 1155 000a FB70     		strb	r3, [r7, #3]
 660:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 661:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 662:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 663:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 1156              		.loc 1 663 0
 1157 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1158 000e 002B     		cmp	r3, #0
 1159 0010 0AD0     		beq	.L53
 664:../SPL/src/stm32f10x_i2c.c ****   {
 665:../SPL/src/stm32f10x_i2c.c ****     /* Peripheral under reset */
 666:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_SWRST_Set;
 1160              		.loc 1 666 0
 1161 0012 7B68     		ldr	r3, [r7, #4]
 1162 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1163 0016 9BB2     		uxth	r3, r3
 1164 0018 6FEA4343 		mvn	r3, r3, lsl #17
 1165 001c 6FEA5343 		mvn	r3, r3, lsr #17
 1166 0020 9AB2     		uxth	r2, r3
 1167 0022 7B68     		ldr	r3, [r7, #4]
 1168 0024 1A80     		strh	r2, [r3, #0]	@ movhi
 1169 0026 09E0     		b	.L52
 1170              	.L53:
 667:../SPL/src/stm32f10x_i2c.c ****   }
 668:../SPL/src/stm32f10x_i2c.c ****   else
 669:../SPL/src/stm32f10x_i2c.c ****   {
 670:../SPL/src/stm32f10x_i2c.c ****     /* Peripheral not under reset */
 671:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_SWRST_Reset;
 1171              		.loc 1 671 0
 1172 0028 7B68     		ldr	r3, [r7, #4]
 1173 002a 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1174 002c 9BB2     		uxth	r3, r3
 1175 002e 4FEA4343 		lsl	r3, r3, #17
 1176 0032 4FEA5343 		lsr	r3, r3, #17
 1177 0036 9AB2     		uxth	r2, r3
 1178 0038 7B68     		ldr	r3, [r7, #4]
 1179 003a 1A80     		strh	r2, [r3, #0]	@ movhi
 1180              	.L52:
 672:../SPL/src/stm32f10x_i2c.c ****   }
 673:../SPL/src/stm32f10x_i2c.c **** }
 1181              		.loc 1 673 0
 1182 003c 07F10C07 		add	r7, r7, #12
 1183 0040 BD46     		mov	sp, r7
 1184 0042 80BC     		pop	{r7}
 1185 0044 7047     		bx	lr
 1186              		.cfi_endproc
 1187              	.LFE46:
 1189 0046 00BF     		.section	.text.I2C_NACKPositionConfig,"ax",%progbits
 1190              		.align	2
 1191              		.global	I2C_NACKPositionConfig
 1192              		.thumb
 1193              		.thumb_func
 1195              	I2C_NACKPositionConfig:
 1196              	.LFB47:
 674:../SPL/src/stm32f10x_i2c.c **** 
 675:../SPL/src/stm32f10x_i2c.c **** /**
 676:../SPL/src/stm32f10x_i2c.c ****   * @brief  Selects the specified I2C NACK position in master receiver mode.
 677:../SPL/src/stm32f10x_i2c.c ****   *         This function is useful in I2C Master Receiver mode when the number
 678:../SPL/src/stm32f10x_i2c.c ****   *         of data to be received is equal to 2. In this case, this function 
 679:../SPL/src/stm32f10x_i2c.c ****   *         should be called (with parameter I2C_NACKPosition_Next) before data 
 680:../SPL/src/stm32f10x_i2c.c ****   *         reception starts,as described in the 2-byte reception procedure 
 681:../SPL/src/stm32f10x_i2c.c ****   *         recommended in Reference Manual in Section: Master receiver.                
 682:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 683:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_NACKPosition: specifies the NACK position. 
 684:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 685:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_NACKPosition_Next: indicates that the next byte will be the last
 686:../SPL/src/stm32f10x_i2c.c ****   *          received byte.  
 687:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_NACKPosition_Current: indicates that current byte is the last 
 688:../SPL/src/stm32f10x_i2c.c ****   *          received byte.
 689:../SPL/src/stm32f10x_i2c.c ****   *            
 690:../SPL/src/stm32f10x_i2c.c ****   * @note    This function configures the same bit (POS) as I2C_PECPositionConfig() 
 691:../SPL/src/stm32f10x_i2c.c ****   *          but is intended to be used in I2C mode while I2C_PECPositionConfig() 
 692:../SPL/src/stm32f10x_i2c.c ****   *          is intended to used in SMBUS mode. 
 693:../SPL/src/stm32f10x_i2c.c ****   *            
 694:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 695:../SPL/src/stm32f10x_i2c.c ****   */
 696:../SPL/src/stm32f10x_i2c.c **** void I2C_NACKPositionConfig(I2C_TypeDef* I2Cx, uint16_t I2C_NACKPosition)
 697:../SPL/src/stm32f10x_i2c.c **** {
 1197              		.loc 1 697 0
 1198              		.cfi_startproc
 1199              		@ args = 0, pretend = 0, frame = 8
 1200              		@ frame_needed = 1, uses_anonymous_args = 0
 1201              		@ link register save eliminated.
 1202 0000 80B4     		push	{r7}
 1203              	.LCFI54:
 1204              		.cfi_def_cfa_offset 4
 1205              		.cfi_offset 7, -4
 1206 0002 83B0     		sub	sp, sp, #12
 1207              	.LCFI55:
 1208              		.cfi_def_cfa_offset 16
 1209 0004 00AF     		add	r7, sp, #0
 1210              	.LCFI56:
 1211              		.cfi_def_cfa_register 7
 1212 0006 7860     		str	r0, [r7, #4]
 1213 0008 0B46     		mov	r3, r1
 1214 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 698:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 699:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 700:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_NACK_POSITION(I2C_NACKPosition));
 701:../SPL/src/stm32f10x_i2c.c ****   
 702:../SPL/src/stm32f10x_i2c.c ****   /* Check the input parameter */
 703:../SPL/src/stm32f10x_i2c.c ****   if (I2C_NACKPosition == I2C_NACKPosition_Next)
 1215              		.loc 1 703 0
 1216 000c 7B88     		ldrh	r3, [r7, #2]
 1217 000e B3F5006F 		cmp	r3, #2048
 1218 0012 08D1     		bne	.L56
 704:../SPL/src/stm32f10x_i2c.c ****   {
 705:../SPL/src/stm32f10x_i2c.c ****     /* Next byte in shift register is the last received byte */
 706:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= I2C_NACKPosition_Next;
 1219              		.loc 1 706 0
 1220 0014 7B68     		ldr	r3, [r7, #4]
 1221 0016 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1222 0018 9BB2     		uxth	r3, r3
 1223 001a 43F40063 		orr	r3, r3, #2048
 1224 001e 9AB2     		uxth	r2, r3
 1225 0020 7B68     		ldr	r3, [r7, #4]
 1226 0022 1A80     		strh	r2, [r3, #0]	@ movhi
 1227 0024 07E0     		b	.L55
 1228              	.L56:
 707:../SPL/src/stm32f10x_i2c.c ****   }
 708:../SPL/src/stm32f10x_i2c.c ****   else
 709:../SPL/src/stm32f10x_i2c.c ****   {
 710:../SPL/src/stm32f10x_i2c.c ****     /* Current byte in shift register is the last received byte */
 711:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= I2C_NACKPosition_Current;
 1229              		.loc 1 711 0
 1230 0026 7B68     		ldr	r3, [r7, #4]
 1231 0028 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1232 002a 9BB2     		uxth	r3, r3
 1233 002c 23F40063 		bic	r3, r3, #2048
 1234 0030 9AB2     		uxth	r2, r3
 1235 0032 7B68     		ldr	r3, [r7, #4]
 1236 0034 1A80     		strh	r2, [r3, #0]	@ movhi
 1237              	.L55:
 712:../SPL/src/stm32f10x_i2c.c ****   }
 713:../SPL/src/stm32f10x_i2c.c **** }
 1238              		.loc 1 713 0
 1239 0036 07F10C07 		add	r7, r7, #12
 1240 003a BD46     		mov	sp, r7
 1241 003c 80BC     		pop	{r7}
 1242 003e 7047     		bx	lr
 1243              		.cfi_endproc
 1244              	.LFE47:
 1246              		.section	.text.I2C_SMBusAlertConfig,"ax",%progbits
 1247              		.align	2
 1248              		.global	I2C_SMBusAlertConfig
 1249              		.thumb
 1250              		.thumb_func
 1252              	I2C_SMBusAlertConfig:
 1253              	.LFB48:
 714:../SPL/src/stm32f10x_i2c.c **** 
 715:../SPL/src/stm32f10x_i2c.c **** /**
 716:../SPL/src/stm32f10x_i2c.c ****   * @brief  Drives the SMBusAlert pin high or low for the specified I2C.
 717:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 718:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_SMBusAlert: specifies SMBAlert pin level. 
 719:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 720:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_SMBusAlert_Low: SMBAlert pin driven low
 721:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_SMBusAlert_High: SMBAlert pin driven high
 722:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 723:../SPL/src/stm32f10x_i2c.c ****   */
 724:../SPL/src/stm32f10x_i2c.c **** void I2C_SMBusAlertConfig(I2C_TypeDef* I2Cx, uint16_t I2C_SMBusAlert)
 725:../SPL/src/stm32f10x_i2c.c **** {
 1254              		.loc 1 725 0
 1255              		.cfi_startproc
 1256              		@ args = 0, pretend = 0, frame = 8
 1257              		@ frame_needed = 1, uses_anonymous_args = 0
 1258              		@ link register save eliminated.
 1259 0000 80B4     		push	{r7}
 1260              	.LCFI57:
 1261              		.cfi_def_cfa_offset 4
 1262              		.cfi_offset 7, -4
 1263 0002 83B0     		sub	sp, sp, #12
 1264              	.LCFI58:
 1265              		.cfi_def_cfa_offset 16
 1266 0004 00AF     		add	r7, sp, #0
 1267              	.LCFI59:
 1268              		.cfi_def_cfa_register 7
 1269 0006 7860     		str	r0, [r7, #4]
 1270 0008 0B46     		mov	r3, r1
 1271 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 726:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 727:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 728:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_SMBUS_ALERT(I2C_SMBusAlert));
 729:../SPL/src/stm32f10x_i2c.c ****   if (I2C_SMBusAlert == I2C_SMBusAlert_Low)
 1272              		.loc 1 729 0
 1273 000c 7B88     		ldrh	r3, [r7, #2]
 1274 000e B3F5005F 		cmp	r3, #8192
 1275 0012 08D1     		bne	.L59
 730:../SPL/src/stm32f10x_i2c.c ****   {
 731:../SPL/src/stm32f10x_i2c.c ****     /* Drive the SMBusAlert pin Low */
 732:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= I2C_SMBusAlert_Low;
 1276              		.loc 1 732 0
 1277 0014 7B68     		ldr	r3, [r7, #4]
 1278 0016 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1279 0018 9BB2     		uxth	r3, r3
 1280 001a 43F40053 		orr	r3, r3, #8192
 1281 001e 9AB2     		uxth	r2, r3
 1282 0020 7B68     		ldr	r3, [r7, #4]
 1283 0022 1A80     		strh	r2, [r3, #0]	@ movhi
 1284 0024 07E0     		b	.L58
 1285              	.L59:
 733:../SPL/src/stm32f10x_i2c.c ****   }
 734:../SPL/src/stm32f10x_i2c.c ****   else
 735:../SPL/src/stm32f10x_i2c.c ****   {
 736:../SPL/src/stm32f10x_i2c.c ****     /* Drive the SMBusAlert pin High  */
 737:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= I2C_SMBusAlert_High;
 1286              		.loc 1 737 0
 1287 0026 7B68     		ldr	r3, [r7, #4]
 1288 0028 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1289 002a 9BB2     		uxth	r3, r3
 1290 002c 23F40053 		bic	r3, r3, #8192
 1291 0030 9AB2     		uxth	r2, r3
 1292 0032 7B68     		ldr	r3, [r7, #4]
 1293 0034 1A80     		strh	r2, [r3, #0]	@ movhi
 1294              	.L58:
 738:../SPL/src/stm32f10x_i2c.c ****   }
 739:../SPL/src/stm32f10x_i2c.c **** }
 1295              		.loc 1 739 0
 1296 0036 07F10C07 		add	r7, r7, #12
 1297 003a BD46     		mov	sp, r7
 1298 003c 80BC     		pop	{r7}
 1299 003e 7047     		bx	lr
 1300              		.cfi_endproc
 1301              	.LFE48:
 1303              		.section	.text.I2C_TransmitPEC,"ax",%progbits
 1304              		.align	2
 1305              		.global	I2C_TransmitPEC
 1306              		.thumb
 1307              		.thumb_func
 1309              	I2C_TransmitPEC:
 1310              	.LFB49:
 740:../SPL/src/stm32f10x_i2c.c **** 
 741:../SPL/src/stm32f10x_i2c.c **** /**
 742:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C PEC transfer.
 743:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 744:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2C PEC transmission.
 745:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 746:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 747:../SPL/src/stm32f10x_i2c.c ****   */
 748:../SPL/src/stm32f10x_i2c.c **** void I2C_TransmitPEC(I2C_TypeDef* I2Cx, FunctionalState NewState)
 749:../SPL/src/stm32f10x_i2c.c **** {
 1311              		.loc 1 749 0
 1312              		.cfi_startproc
 1313              		@ args = 0, pretend = 0, frame = 8
 1314              		@ frame_needed = 1, uses_anonymous_args = 0
 1315              		@ link register save eliminated.
 1316 0000 80B4     		push	{r7}
 1317              	.LCFI60:
 1318              		.cfi_def_cfa_offset 4
 1319              		.cfi_offset 7, -4
 1320 0002 83B0     		sub	sp, sp, #12
 1321              	.LCFI61:
 1322              		.cfi_def_cfa_offset 16
 1323 0004 00AF     		add	r7, sp, #0
 1324              	.LCFI62:
 1325              		.cfi_def_cfa_register 7
 1326 0006 7860     		str	r0, [r7, #4]
 1327 0008 0B46     		mov	r3, r1
 1328 000a FB70     		strb	r3, [r7, #3]
 750:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 751:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 752:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 753:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 1329              		.loc 1 753 0
 1330 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1331 000e 002B     		cmp	r3, #0
 1332 0010 08D0     		beq	.L62
 754:../SPL/src/stm32f10x_i2c.c ****   {
 755:../SPL/src/stm32f10x_i2c.c ****     /* Enable the selected I2C PEC transmission */
 756:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_PEC_Set;
 1333              		.loc 1 756 0
 1334 0012 7B68     		ldr	r3, [r7, #4]
 1335 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1336 0016 9BB2     		uxth	r3, r3
 1337 0018 43F48053 		orr	r3, r3, #4096
 1338 001c 9AB2     		uxth	r2, r3
 1339 001e 7B68     		ldr	r3, [r7, #4]
 1340 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 1341 0022 07E0     		b	.L61
 1342              	.L62:
 757:../SPL/src/stm32f10x_i2c.c ****   }
 758:../SPL/src/stm32f10x_i2c.c ****   else
 759:../SPL/src/stm32f10x_i2c.c ****   {
 760:../SPL/src/stm32f10x_i2c.c ****     /* Disable the selected I2C PEC transmission */
 761:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_PEC_Reset;
 1343              		.loc 1 761 0
 1344 0024 7B68     		ldr	r3, [r7, #4]
 1345 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1346 0028 9BB2     		uxth	r3, r3
 1347 002a 23F48053 		bic	r3, r3, #4096
 1348 002e 9AB2     		uxth	r2, r3
 1349 0030 7B68     		ldr	r3, [r7, #4]
 1350 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 1351              	.L61:
 762:../SPL/src/stm32f10x_i2c.c ****   }
 763:../SPL/src/stm32f10x_i2c.c **** }
 1352              		.loc 1 763 0
 1353 0034 07F10C07 		add	r7, r7, #12
 1354 0038 BD46     		mov	sp, r7
 1355 003a 80BC     		pop	{r7}
 1356 003c 7047     		bx	lr
 1357              		.cfi_endproc
 1358              	.LFE49:
 1360 003e 00BF     		.section	.text.I2C_PECPositionConfig,"ax",%progbits
 1361              		.align	2
 1362              		.global	I2C_PECPositionConfig
 1363              		.thumb
 1364              		.thumb_func
 1366              	I2C_PECPositionConfig:
 1367              	.LFB50:
 764:../SPL/src/stm32f10x_i2c.c **** 
 765:../SPL/src/stm32f10x_i2c.c **** /**
 766:../SPL/src/stm32f10x_i2c.c ****   * @brief  Selects the specified I2C PEC position.
 767:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 768:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_PECPosition: specifies the PEC position. 
 769:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 770:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_PECPosition_Next: indicates that the next byte is PEC
 771:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_PECPosition_Current: indicates that current byte is PEC
 772:../SPL/src/stm32f10x_i2c.c ****   *       
 773:../SPL/src/stm32f10x_i2c.c ****   * @note    This function configures the same bit (POS) as I2C_NACKPositionConfig()
 774:../SPL/src/stm32f10x_i2c.c ****   *          but is intended to be used in SMBUS mode while I2C_NACKPositionConfig() 
 775:../SPL/src/stm32f10x_i2c.c ****   *          is intended to used in I2C mode.
 776:../SPL/src/stm32f10x_i2c.c ****   *               
 777:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 778:../SPL/src/stm32f10x_i2c.c ****   */
 779:../SPL/src/stm32f10x_i2c.c **** void I2C_PECPositionConfig(I2C_TypeDef* I2Cx, uint16_t I2C_PECPosition)
 780:../SPL/src/stm32f10x_i2c.c **** {
 1368              		.loc 1 780 0
 1369              		.cfi_startproc
 1370              		@ args = 0, pretend = 0, frame = 8
 1371              		@ frame_needed = 1, uses_anonymous_args = 0
 1372              		@ link register save eliminated.
 1373 0000 80B4     		push	{r7}
 1374              	.LCFI63:
 1375              		.cfi_def_cfa_offset 4
 1376              		.cfi_offset 7, -4
 1377 0002 83B0     		sub	sp, sp, #12
 1378              	.LCFI64:
 1379              		.cfi_def_cfa_offset 16
 1380 0004 00AF     		add	r7, sp, #0
 1381              	.LCFI65:
 1382              		.cfi_def_cfa_register 7
 1383 0006 7860     		str	r0, [r7, #4]
 1384 0008 0B46     		mov	r3, r1
 1385 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 781:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 782:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 783:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_PEC_POSITION(I2C_PECPosition));
 784:../SPL/src/stm32f10x_i2c.c ****   if (I2C_PECPosition == I2C_PECPosition_Next)
 1386              		.loc 1 784 0
 1387 000c 7B88     		ldrh	r3, [r7, #2]
 1388 000e B3F5006F 		cmp	r3, #2048
 1389 0012 08D1     		bne	.L65
 785:../SPL/src/stm32f10x_i2c.c ****   {
 786:../SPL/src/stm32f10x_i2c.c ****     /* Next byte in shift register is PEC */
 787:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= I2C_PECPosition_Next;
 1390              		.loc 1 787 0
 1391 0014 7B68     		ldr	r3, [r7, #4]
 1392 0016 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1393 0018 9BB2     		uxth	r3, r3
 1394 001a 43F40063 		orr	r3, r3, #2048
 1395 001e 9AB2     		uxth	r2, r3
 1396 0020 7B68     		ldr	r3, [r7, #4]
 1397 0022 1A80     		strh	r2, [r3, #0]	@ movhi
 1398 0024 07E0     		b	.L64
 1399              	.L65:
 788:../SPL/src/stm32f10x_i2c.c ****   }
 789:../SPL/src/stm32f10x_i2c.c ****   else
 790:../SPL/src/stm32f10x_i2c.c ****   {
 791:../SPL/src/stm32f10x_i2c.c ****     /* Current byte in shift register is PEC */
 792:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= I2C_PECPosition_Current;
 1400              		.loc 1 792 0
 1401 0026 7B68     		ldr	r3, [r7, #4]
 1402 0028 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1403 002a 9BB2     		uxth	r3, r3
 1404 002c 23F40063 		bic	r3, r3, #2048
 1405 0030 9AB2     		uxth	r2, r3
 1406 0032 7B68     		ldr	r3, [r7, #4]
 1407 0034 1A80     		strh	r2, [r3, #0]	@ movhi
 1408              	.L64:
 793:../SPL/src/stm32f10x_i2c.c ****   }
 794:../SPL/src/stm32f10x_i2c.c **** }
 1409              		.loc 1 794 0
 1410 0036 07F10C07 		add	r7, r7, #12
 1411 003a BD46     		mov	sp, r7
 1412 003c 80BC     		pop	{r7}
 1413 003e 7047     		bx	lr
 1414              		.cfi_endproc
 1415              	.LFE50:
 1417              		.section	.text.I2C_CalculatePEC,"ax",%progbits
 1418              		.align	2
 1419              		.global	I2C_CalculatePEC
 1420              		.thumb
 1421              		.thumb_func
 1423              	I2C_CalculatePEC:
 1424              	.LFB51:
 795:../SPL/src/stm32f10x_i2c.c **** 
 796:../SPL/src/stm32f10x_i2c.c **** /**
 797:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the PEC value calculation of the transferred bytes.
 798:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 799:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2Cx PEC value calculation.
 800:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 801:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 802:../SPL/src/stm32f10x_i2c.c ****   */
 803:../SPL/src/stm32f10x_i2c.c **** void I2C_CalculatePEC(I2C_TypeDef* I2Cx, FunctionalState NewState)
 804:../SPL/src/stm32f10x_i2c.c **** {
 1425              		.loc 1 804 0
 1426              		.cfi_startproc
 1427              		@ args = 0, pretend = 0, frame = 8
 1428              		@ frame_needed = 1, uses_anonymous_args = 0
 1429              		@ link register save eliminated.
 1430 0000 80B4     		push	{r7}
 1431              	.LCFI66:
 1432              		.cfi_def_cfa_offset 4
 1433              		.cfi_offset 7, -4
 1434 0002 83B0     		sub	sp, sp, #12
 1435              	.LCFI67:
 1436              		.cfi_def_cfa_offset 16
 1437 0004 00AF     		add	r7, sp, #0
 1438              	.LCFI68:
 1439              		.cfi_def_cfa_register 7
 1440 0006 7860     		str	r0, [r7, #4]
 1441 0008 0B46     		mov	r3, r1
 1442 000a FB70     		strb	r3, [r7, #3]
 805:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 806:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 807:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 808:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 1443              		.loc 1 808 0
 1444 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1445 000e 002B     		cmp	r3, #0
 1446 0010 08D0     		beq	.L68
 809:../SPL/src/stm32f10x_i2c.c ****   {
 810:../SPL/src/stm32f10x_i2c.c ****     /* Enable the selected I2C PEC calculation */
 811:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_ENPEC_Set;
 1447              		.loc 1 811 0
 1448 0012 7B68     		ldr	r3, [r7, #4]
 1449 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1450 0016 9BB2     		uxth	r3, r3
 1451 0018 43F02003 		orr	r3, r3, #32
 1452 001c 9AB2     		uxth	r2, r3
 1453 001e 7B68     		ldr	r3, [r7, #4]
 1454 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 1455 0022 07E0     		b	.L67
 1456              	.L68:
 812:../SPL/src/stm32f10x_i2c.c ****   }
 813:../SPL/src/stm32f10x_i2c.c ****   else
 814:../SPL/src/stm32f10x_i2c.c ****   {
 815:../SPL/src/stm32f10x_i2c.c ****     /* Disable the selected I2C PEC calculation */
 816:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_ENPEC_Reset;
 1457              		.loc 1 816 0
 1458 0024 7B68     		ldr	r3, [r7, #4]
 1459 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1460 0028 9BB2     		uxth	r3, r3
 1461 002a 23F02003 		bic	r3, r3, #32
 1462 002e 9AB2     		uxth	r2, r3
 1463 0030 7B68     		ldr	r3, [r7, #4]
 1464 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 1465              	.L67:
 817:../SPL/src/stm32f10x_i2c.c ****   }
 818:../SPL/src/stm32f10x_i2c.c **** }
 1466              		.loc 1 818 0
 1467 0034 07F10C07 		add	r7, r7, #12
 1468 0038 BD46     		mov	sp, r7
 1469 003a 80BC     		pop	{r7}
 1470 003c 7047     		bx	lr
 1471              		.cfi_endproc
 1472              	.LFE51:
 1474 003e 00BF     		.section	.text.I2C_GetPEC,"ax",%progbits
 1475              		.align	2
 1476              		.global	I2C_GetPEC
 1477              		.thumb
 1478              		.thumb_func
 1480              	I2C_GetPEC:
 1481              	.LFB52:
 819:../SPL/src/stm32f10x_i2c.c **** 
 820:../SPL/src/stm32f10x_i2c.c **** /**
 821:../SPL/src/stm32f10x_i2c.c ****   * @brief  Returns the PEC value for the specified I2C.
 822:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 823:../SPL/src/stm32f10x_i2c.c ****   * @retval The PEC value.
 824:../SPL/src/stm32f10x_i2c.c ****   */
 825:../SPL/src/stm32f10x_i2c.c **** uint8_t I2C_GetPEC(I2C_TypeDef* I2Cx)
 826:../SPL/src/stm32f10x_i2c.c **** {
 1482              		.loc 1 826 0
 1483              		.cfi_startproc
 1484              		@ args = 0, pretend = 0, frame = 8
 1485              		@ frame_needed = 1, uses_anonymous_args = 0
 1486              		@ link register save eliminated.
 1487 0000 80B4     		push	{r7}
 1488              	.LCFI69:
 1489              		.cfi_def_cfa_offset 4
 1490              		.cfi_offset 7, -4
 1491 0002 83B0     		sub	sp, sp, #12
 1492              	.LCFI70:
 1493              		.cfi_def_cfa_offset 16
 1494 0004 00AF     		add	r7, sp, #0
 1495              	.LCFI71:
 1496              		.cfi_def_cfa_register 7
 1497 0006 7860     		str	r0, [r7, #4]
 827:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 828:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 829:../SPL/src/stm32f10x_i2c.c ****   /* Return the selected I2C PEC value */
 830:../SPL/src/stm32f10x_i2c.c ****   return ((I2Cx->SR2) >> 8);
 1498              		.loc 1 830 0
 1499 0008 7B68     		ldr	r3, [r7, #4]
 1500 000a 1B8B     		ldrh	r3, [r3, #24]	@ movhi
 1501 000c 9BB2     		uxth	r3, r3
 1502 000e 4FEA1323 		lsr	r3, r3, #8
 1503 0012 9BB2     		uxth	r3, r3
 1504 0014 DBB2     		uxtb	r3, r3
 831:../SPL/src/stm32f10x_i2c.c **** }
 1505              		.loc 1 831 0
 1506 0016 1846     		mov	r0, r3
 1507 0018 07F10C07 		add	r7, r7, #12
 1508 001c BD46     		mov	sp, r7
 1509 001e 80BC     		pop	{r7}
 1510 0020 7047     		bx	lr
 1511              		.cfi_endproc
 1512              	.LFE52:
 1514 0022 00BF     		.section	.text.I2C_ARPCmd,"ax",%progbits
 1515              		.align	2
 1516              		.global	I2C_ARPCmd
 1517              		.thumb
 1518              		.thumb_func
 1520              	I2C_ARPCmd:
 1521              	.LFB53:
 832:../SPL/src/stm32f10x_i2c.c **** 
 833:../SPL/src/stm32f10x_i2c.c **** /**
 834:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C ARP.
 835:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 836:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2Cx ARP. 
 837:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 838:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 839:../SPL/src/stm32f10x_i2c.c ****   */
 840:../SPL/src/stm32f10x_i2c.c **** void I2C_ARPCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 841:../SPL/src/stm32f10x_i2c.c **** {
 1522              		.loc 1 841 0
 1523              		.cfi_startproc
 1524              		@ args = 0, pretend = 0, frame = 8
 1525              		@ frame_needed = 1, uses_anonymous_args = 0
 1526              		@ link register save eliminated.
 1527 0000 80B4     		push	{r7}
 1528              	.LCFI72:
 1529              		.cfi_def_cfa_offset 4
 1530              		.cfi_offset 7, -4
 1531 0002 83B0     		sub	sp, sp, #12
 1532              	.LCFI73:
 1533              		.cfi_def_cfa_offset 16
 1534 0004 00AF     		add	r7, sp, #0
 1535              	.LCFI74:
 1536              		.cfi_def_cfa_register 7
 1537 0006 7860     		str	r0, [r7, #4]
 1538 0008 0B46     		mov	r3, r1
 1539 000a FB70     		strb	r3, [r7, #3]
 842:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 843:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 844:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 845:../SPL/src/stm32f10x_i2c.c ****   if (NewState != DISABLE)
 1540              		.loc 1 845 0
 1541 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1542 000e 002B     		cmp	r3, #0
 1543 0010 08D0     		beq	.L73
 846:../SPL/src/stm32f10x_i2c.c ****   {
 847:../SPL/src/stm32f10x_i2c.c ****     /* Enable the selected I2C ARP */
 848:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_ENARP_Set;
 1544              		.loc 1 848 0
 1545 0012 7B68     		ldr	r3, [r7, #4]
 1546 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1547 0016 9BB2     		uxth	r3, r3
 1548 0018 43F01003 		orr	r3, r3, #16
 1549 001c 9AB2     		uxth	r2, r3
 1550 001e 7B68     		ldr	r3, [r7, #4]
 1551 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 1552 0022 07E0     		b	.L72
 1553              	.L73:
 849:../SPL/src/stm32f10x_i2c.c ****   }
 850:../SPL/src/stm32f10x_i2c.c ****   else
 851:../SPL/src/stm32f10x_i2c.c ****   {
 852:../SPL/src/stm32f10x_i2c.c ****     /* Disable the selected I2C ARP */
 853:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_ENARP_Reset;
 1554              		.loc 1 853 0
 1555 0024 7B68     		ldr	r3, [r7, #4]
 1556 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1557 0028 9BB2     		uxth	r3, r3
 1558 002a 23F01003 		bic	r3, r3, #16
 1559 002e 9AB2     		uxth	r2, r3
 1560 0030 7B68     		ldr	r3, [r7, #4]
 1561 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 1562              	.L72:
 854:../SPL/src/stm32f10x_i2c.c ****   }
 855:../SPL/src/stm32f10x_i2c.c **** }
 1563              		.loc 1 855 0
 1564 0034 07F10C07 		add	r7, r7, #12
 1565 0038 BD46     		mov	sp, r7
 1566 003a 80BC     		pop	{r7}
 1567 003c 7047     		bx	lr
 1568              		.cfi_endproc
 1569              	.LFE53:
 1571 003e 00BF     		.section	.text.I2C_StretchClockCmd,"ax",%progbits
 1572              		.align	2
 1573              		.global	I2C_StretchClockCmd
 1574              		.thumb
 1575              		.thumb_func
 1577              	I2C_StretchClockCmd:
 1578              	.LFB54:
 856:../SPL/src/stm32f10x_i2c.c **** 
 857:../SPL/src/stm32f10x_i2c.c **** /**
 858:../SPL/src/stm32f10x_i2c.c ****   * @brief  Enables or disables the specified I2C Clock stretching.
 859:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 860:../SPL/src/stm32f10x_i2c.c ****   * @param  NewState: new state of the I2Cx Clock stretching.
 861:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 862:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 863:../SPL/src/stm32f10x_i2c.c ****   */
 864:../SPL/src/stm32f10x_i2c.c **** void I2C_StretchClockCmd(I2C_TypeDef* I2Cx, FunctionalState NewState)
 865:../SPL/src/stm32f10x_i2c.c **** {
 1579              		.loc 1 865 0
 1580              		.cfi_startproc
 1581              		@ args = 0, pretend = 0, frame = 8
 1582              		@ frame_needed = 1, uses_anonymous_args = 0
 1583              		@ link register save eliminated.
 1584 0000 80B4     		push	{r7}
 1585              	.LCFI75:
 1586              		.cfi_def_cfa_offset 4
 1587              		.cfi_offset 7, -4
 1588 0002 83B0     		sub	sp, sp, #12
 1589              	.LCFI76:
 1590              		.cfi_def_cfa_offset 16
 1591 0004 00AF     		add	r7, sp, #0
 1592              	.LCFI77:
 1593              		.cfi_def_cfa_register 7
 1594 0006 7860     		str	r0, [r7, #4]
 1595 0008 0B46     		mov	r3, r1
 1596 000a FB70     		strb	r3, [r7, #3]
 866:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 867:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 868:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 869:../SPL/src/stm32f10x_i2c.c ****   if (NewState == DISABLE)
 1597              		.loc 1 869 0
 1598 000c FB78     		ldrb	r3, [r7, #3]	@ zero_extendqisi2
 1599 000e 002B     		cmp	r3, #0
 1600 0010 08D1     		bne	.L76
 870:../SPL/src/stm32f10x_i2c.c ****   {
 871:../SPL/src/stm32f10x_i2c.c ****     /* Enable the selected I2C Clock stretching */
 872:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 |= CR1_NOSTRETCH_Set;
 1601              		.loc 1 872 0
 1602 0012 7B68     		ldr	r3, [r7, #4]
 1603 0014 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1604 0016 9BB2     		uxth	r3, r3
 1605 0018 43F08003 		orr	r3, r3, #128
 1606 001c 9AB2     		uxth	r2, r3
 1607 001e 7B68     		ldr	r3, [r7, #4]
 1608 0020 1A80     		strh	r2, [r3, #0]	@ movhi
 1609 0022 07E0     		b	.L75
 1610              	.L76:
 873:../SPL/src/stm32f10x_i2c.c ****   }
 874:../SPL/src/stm32f10x_i2c.c ****   else
 875:../SPL/src/stm32f10x_i2c.c ****   {
 876:../SPL/src/stm32f10x_i2c.c ****     /* Disable the selected I2C Clock stretching */
 877:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CR1 &= CR1_NOSTRETCH_Reset;
 1611              		.loc 1 877 0
 1612 0024 7B68     		ldr	r3, [r7, #4]
 1613 0026 1B88     		ldrh	r3, [r3, #0]	@ movhi
 1614 0028 9BB2     		uxth	r3, r3
 1615 002a 23F08003 		bic	r3, r3, #128
 1616 002e 9AB2     		uxth	r2, r3
 1617 0030 7B68     		ldr	r3, [r7, #4]
 1618 0032 1A80     		strh	r2, [r3, #0]	@ movhi
 1619              	.L75:
 878:../SPL/src/stm32f10x_i2c.c ****   }
 879:../SPL/src/stm32f10x_i2c.c **** }
 1620              		.loc 1 879 0
 1621 0034 07F10C07 		add	r7, r7, #12
 1622 0038 BD46     		mov	sp, r7
 1623 003a 80BC     		pop	{r7}
 1624 003c 7047     		bx	lr
 1625              		.cfi_endproc
 1626              	.LFE54:
 1628 003e 00BF     		.section	.text.I2C_FastModeDutyCycleConfig,"ax",%progbits
 1629              		.align	2
 1630              		.global	I2C_FastModeDutyCycleConfig
 1631              		.thumb
 1632              		.thumb_func
 1634              	I2C_FastModeDutyCycleConfig:
 1635              	.LFB55:
 880:../SPL/src/stm32f10x_i2c.c **** 
 881:../SPL/src/stm32f10x_i2c.c **** /**
 882:../SPL/src/stm32f10x_i2c.c ****   * @brief  Selects the specified I2C fast mode duty cycle.
 883:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
 884:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_DutyCycle: specifies the fast mode duty cycle.
 885:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
 886:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_DutyCycle_2: I2C fast mode Tlow/Thigh = 2
 887:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_DutyCycle_16_9: I2C fast mode Tlow/Thigh = 16/9
 888:../SPL/src/stm32f10x_i2c.c ****   * @retval None
 889:../SPL/src/stm32f10x_i2c.c ****   */
 890:../SPL/src/stm32f10x_i2c.c **** void I2C_FastModeDutyCycleConfig(I2C_TypeDef* I2Cx, uint16_t I2C_DutyCycle)
 891:../SPL/src/stm32f10x_i2c.c **** {
 1636              		.loc 1 891 0
 1637              		.cfi_startproc
 1638              		@ args = 0, pretend = 0, frame = 8
 1639              		@ frame_needed = 1, uses_anonymous_args = 0
 1640              		@ link register save eliminated.
 1641 0000 80B4     		push	{r7}
 1642              	.LCFI78:
 1643              		.cfi_def_cfa_offset 4
 1644              		.cfi_offset 7, -4
 1645 0002 83B0     		sub	sp, sp, #12
 1646              	.LCFI79:
 1647              		.cfi_def_cfa_offset 16
 1648 0004 00AF     		add	r7, sp, #0
 1649              	.LCFI80:
 1650              		.cfi_def_cfa_register 7
 1651 0006 7860     		str	r0, [r7, #4]
 1652 0008 0B46     		mov	r3, r1
 1653 000a 7B80     		strh	r3, [r7, #2]	@ movhi
 892:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
 893:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 894:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_DUTY_CYCLE(I2C_DutyCycle));
 895:../SPL/src/stm32f10x_i2c.c ****   if (I2C_DutyCycle != I2C_DutyCycle_16_9)
 1654              		.loc 1 895 0
 1655 000c 7B88     		ldrh	r3, [r7, #2]
 1656 000e B3F5804F 		cmp	r3, #16384
 1657 0012 08D0     		beq	.L79
 896:../SPL/src/stm32f10x_i2c.c ****   {
 897:../SPL/src/stm32f10x_i2c.c ****     /* I2C fast mode Tlow/Thigh=2 */
 898:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CCR &= I2C_DutyCycle_2;
 1658              		.loc 1 898 0
 1659 0014 7B68     		ldr	r3, [r7, #4]
 1660 0016 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 1661 0018 9BB2     		uxth	r3, r3
 1662 001a 23F48043 		bic	r3, r3, #16384
 1663 001e 9AB2     		uxth	r2, r3
 1664 0020 7B68     		ldr	r3, [r7, #4]
 1665 0022 9A83     		strh	r2, [r3, #28]	@ movhi
 1666 0024 07E0     		b	.L78
 1667              	.L79:
 899:../SPL/src/stm32f10x_i2c.c ****   }
 900:../SPL/src/stm32f10x_i2c.c ****   else
 901:../SPL/src/stm32f10x_i2c.c ****   {
 902:../SPL/src/stm32f10x_i2c.c ****     /* I2C fast mode Tlow/Thigh=16/9 */
 903:../SPL/src/stm32f10x_i2c.c ****     I2Cx->CCR |= I2C_DutyCycle_16_9;
 1668              		.loc 1 903 0
 1669 0026 7B68     		ldr	r3, [r7, #4]
 1670 0028 9B8B     		ldrh	r3, [r3, #28]	@ movhi
 1671 002a 9BB2     		uxth	r3, r3
 1672 002c 43F48043 		orr	r3, r3, #16384
 1673 0030 9AB2     		uxth	r2, r3
 1674 0032 7B68     		ldr	r3, [r7, #4]
 1675 0034 9A83     		strh	r2, [r3, #28]	@ movhi
 1676              	.L78:
 904:../SPL/src/stm32f10x_i2c.c ****   }
 905:../SPL/src/stm32f10x_i2c.c **** }
 1677              		.loc 1 905 0
 1678 0036 07F10C07 		add	r7, r7, #12
 1679 003a BD46     		mov	sp, r7
 1680 003c 80BC     		pop	{r7}
 1681 003e 7047     		bx	lr
 1682              		.cfi_endproc
 1683              	.LFE55:
 1685              		.section	.text.I2C_CheckEvent,"ax",%progbits
 1686              		.align	2
 1687              		.global	I2C_CheckEvent
 1688              		.thumb
 1689              		.thumb_func
 1691              	I2C_CheckEvent:
 1692              	.LFB56:
 906:../SPL/src/stm32f10x_i2c.c **** 
 907:../SPL/src/stm32f10x_i2c.c **** 
 908:../SPL/src/stm32f10x_i2c.c **** 
 909:../SPL/src/stm32f10x_i2c.c **** /**
 910:../SPL/src/stm32f10x_i2c.c ****  * @brief
 911:../SPL/src/stm32f10x_i2c.c ****  ****************************************************************************************
 912:../SPL/src/stm32f10x_i2c.c ****  *
 913:../SPL/src/stm32f10x_i2c.c ****  *                         I2C State Monitoring Functions
 914:../SPL/src/stm32f10x_i2c.c ****  *                       
 915:../SPL/src/stm32f10x_i2c.c ****  ****************************************************************************************   
 916:../SPL/src/stm32f10x_i2c.c ****  * This I2C driver provides three different ways for I2C state monitoring
 917:../SPL/src/stm32f10x_i2c.c ****  *  depending on the application requirements and constraints:
 918:../SPL/src/stm32f10x_i2c.c ****  *        
 919:../SPL/src/stm32f10x_i2c.c ****  *  
 920:../SPL/src/stm32f10x_i2c.c ****  * 1) Basic state monitoring:
 921:../SPL/src/stm32f10x_i2c.c ****  *    Using I2C_CheckEvent() function:
 922:../SPL/src/stm32f10x_i2c.c ****  *    It compares the status registers (SR1 and SR2) content to a given event
 923:../SPL/src/stm32f10x_i2c.c ****  *    (can be the combination of one or more flags).
 924:../SPL/src/stm32f10x_i2c.c ****  *    It returns SUCCESS if the current status includes the given flags 
 925:../SPL/src/stm32f10x_i2c.c ****  *    and returns ERROR if one or more flags are missing in the current status.
 926:../SPL/src/stm32f10x_i2c.c ****  *    - When to use:
 927:../SPL/src/stm32f10x_i2c.c ****  *      - This function is suitable for most applications as well as for startup 
 928:../SPL/src/stm32f10x_i2c.c ****  *      activity since the events are fully described in the product reference manual 
 929:../SPL/src/stm32f10x_i2c.c ****  *      (RM0008).
 930:../SPL/src/stm32f10x_i2c.c ****  *      - It is also suitable for users who need to define their own events.
 931:../SPL/src/stm32f10x_i2c.c ****  *    - Limitations:
 932:../SPL/src/stm32f10x_i2c.c ****  *      - If an error occurs (ie. error flags are set besides to the monitored flags),
 933:../SPL/src/stm32f10x_i2c.c ****  *        the I2C_CheckEvent() function may return SUCCESS despite the communication
 934:../SPL/src/stm32f10x_i2c.c ****  *        hold or corrupted real state. 
 935:../SPL/src/stm32f10x_i2c.c ****  *        In this case, it is advised to use error interrupts to monitor the error
 936:../SPL/src/stm32f10x_i2c.c ****  *        events and handle them in the interrupt IRQ handler.
 937:../SPL/src/stm32f10x_i2c.c ****  *        
 938:../SPL/src/stm32f10x_i2c.c ****  *        @note 
 939:../SPL/src/stm32f10x_i2c.c ****  *        For error management, it is advised to use the following functions:
 940:../SPL/src/stm32f10x_i2c.c ****  *          - I2C_ITConfig() to configure and enable the error interrupts (I2C_IT_ERR).
 941:../SPL/src/stm32f10x_i2c.c ****  *          - I2Cx_ER_IRQHandler() which is called when the error interrupt occurs.
 942:../SPL/src/stm32f10x_i2c.c ****  *            Where x is the peripheral instance (I2C1, I2C2 ...)
 943:../SPL/src/stm32f10x_i2c.c ****  *          - I2C_GetFlagStatus() or I2C_GetITStatus() to be called into I2Cx_ER_IRQHandler() 
 944:../SPL/src/stm32f10x_i2c.c ****  *            in order to determine which error occured.
 945:../SPL/src/stm32f10x_i2c.c ****  *          - I2C_ClearFlag() or I2C_ClearITPendingBit() and/or I2C_SoftwareResetCmd()
 946:../SPL/src/stm32f10x_i2c.c ****  *            and/or I2C_GenerateStop() in order to clear the error flag and source,
 947:../SPL/src/stm32f10x_i2c.c ****  *            and return to correct communication status.
 948:../SPL/src/stm32f10x_i2c.c ****  *            
 949:../SPL/src/stm32f10x_i2c.c ****  *
 950:../SPL/src/stm32f10x_i2c.c ****  *  2) Advanced state monitoring:
 951:../SPL/src/stm32f10x_i2c.c ****  *     Using the function I2C_GetLastEvent() which returns the image of both status 
 952:../SPL/src/stm32f10x_i2c.c ****  *     registers in a single word (uint32_t) (Status Register 2 value is shifted left 
 953:../SPL/src/stm32f10x_i2c.c ****  *     by 16 bits and concatenated to Status Register 1).
 954:../SPL/src/stm32f10x_i2c.c ****  *     - When to use:
 955:../SPL/src/stm32f10x_i2c.c ****  *       - This function is suitable for the same applications above but it allows to
 956:../SPL/src/stm32f10x_i2c.c ****  *         overcome the mentioned limitation of I2C_GetFlagStatus() function.
 957:../SPL/src/stm32f10x_i2c.c ****  *         The returned value could be compared to events already defined in the 
 958:../SPL/src/stm32f10x_i2c.c ****  *         library (stm32f10x_i2c.h) or to custom values defined by user.
 959:../SPL/src/stm32f10x_i2c.c ****  *       - This function is suitable when multiple flags are monitored at the same time.
 960:../SPL/src/stm32f10x_i2c.c ****  *       - At the opposite of I2C_CheckEvent() function, this function allows user to
 961:../SPL/src/stm32f10x_i2c.c ****  *         choose when an event is accepted (when all events flags are set and no 
 962:../SPL/src/stm32f10x_i2c.c ****  *         other flags are set or just when the needed flags are set like 
 963:../SPL/src/stm32f10x_i2c.c ****  *         I2C_CheckEvent() function).
 964:../SPL/src/stm32f10x_i2c.c ****  *     - Limitations:
 965:../SPL/src/stm32f10x_i2c.c ****  *       - User may need to define his own events.
 966:../SPL/src/stm32f10x_i2c.c ****  *       - Same remark concerning the error management is applicable for this 
 967:../SPL/src/stm32f10x_i2c.c ****  *         function if user decides to check only regular communication flags (and 
 968:../SPL/src/stm32f10x_i2c.c ****  *         ignores error flags).
 969:../SPL/src/stm32f10x_i2c.c ****  *     
 970:../SPL/src/stm32f10x_i2c.c ****  *
 971:../SPL/src/stm32f10x_i2c.c ****  *  3) Flag-based state monitoring:
 972:../SPL/src/stm32f10x_i2c.c ****  *     Using the function I2C_GetFlagStatus() which simply returns the status of 
 973:../SPL/src/stm32f10x_i2c.c ****  *     one single flag (ie. I2C_FLAG_RXNE ...). 
 974:../SPL/src/stm32f10x_i2c.c ****  *     - When to use:
 975:../SPL/src/stm32f10x_i2c.c ****  *        - This function could be used for specific applications or in debug phase.
 976:../SPL/src/stm32f10x_i2c.c ****  *        - It is suitable when only one flag checking is needed (most I2C events 
 977:../SPL/src/stm32f10x_i2c.c ****  *          are monitored through multiple flags).
 978:../SPL/src/stm32f10x_i2c.c ****  *     - Limitations: 
 979:../SPL/src/stm32f10x_i2c.c ****  *        - When calling this function, the Status register is accessed. Some flags are
 980:../SPL/src/stm32f10x_i2c.c ****  *          cleared when the status register is accessed. So checking the status
 981:../SPL/src/stm32f10x_i2c.c ****  *          of one Flag, may clear other ones.
 982:../SPL/src/stm32f10x_i2c.c ****  *        - Function may need to be called twice or more in order to monitor one 
 983:../SPL/src/stm32f10x_i2c.c ****  *          single event.
 984:../SPL/src/stm32f10x_i2c.c ****  *
 985:../SPL/src/stm32f10x_i2c.c ****  *  For detailed description of Events, please refer to section I2C_Events in 
 986:../SPL/src/stm32f10x_i2c.c ****  *  stm32f10x_i2c.h file.
 987:../SPL/src/stm32f10x_i2c.c ****  *  
 988:../SPL/src/stm32f10x_i2c.c ****  */
 989:../SPL/src/stm32f10x_i2c.c **** 
 990:../SPL/src/stm32f10x_i2c.c **** /**
 991:../SPL/src/stm32f10x_i2c.c ****  * 
 992:../SPL/src/stm32f10x_i2c.c ****  *  1) Basic state monitoring
 993:../SPL/src/stm32f10x_i2c.c ****  *******************************************************************************
 994:../SPL/src/stm32f10x_i2c.c ****  */
 995:../SPL/src/stm32f10x_i2c.c **** 
 996:../SPL/src/stm32f10x_i2c.c **** /**
 997:../SPL/src/stm32f10x_i2c.c ****   * @brief  Checks whether the last I2Cx Event is equal to the one passed
 998:../SPL/src/stm32f10x_i2c.c ****   *   as parameter.
 999:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1000:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_EVENT: specifies the event to be checked. 
1001:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
1002:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_TRANSMITTER_ADDRESS_MATCHED           : EV1
1003:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_RECEIVER_ADDRESS_MATCHED              : EV1
1004:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_TRANSMITTER_SECONDADDRESS_MATCHED     : EV1
1005:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_RECEIVER_SECONDADDRESS_MATCHED        : EV1
1006:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_GENERALCALLADDRESS_MATCHED            : EV1
1007:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_BYTE_RECEIVED                         : EV2
1008:../SPL/src/stm32f10x_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_BYTE_RECEIVED | I2C_FLAG_DUALF)      : EV2
1009:../SPL/src/stm32f10x_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_BYTE_RECEIVED | I2C_FLAG_GENCALL)    : EV2
1010:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_BYTE_TRANSMITTED                      : EV3
1011:../SPL/src/stm32f10x_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_BYTE_TRANSMITTED | I2C_FLAG_DUALF)   : EV3
1012:../SPL/src/stm32f10x_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_BYTE_TRANSMITTED | I2C_FLAG_GENCALL) : EV3
1013:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_ACK_FAILURE                           : EV3_2
1014:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_SLAVE_STOP_DETECTED                         : EV4
1015:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_MODE_SELECT                          : EV5
1016:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_TRANSMITTER_MODE_SELECTED            : EV6     
1017:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_RECEIVER_MODE_SELECTED               : EV6
1018:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_BYTE_RECEIVED                        : EV7
1019:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_BYTE_TRANSMITTING                    : EV8
1020:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_BYTE_TRANSMITTED                     : EV8_2
1021:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_EVENT_MASTER_MODE_ADDRESS10                       : EV9
1022:../SPL/src/stm32f10x_i2c.c ****   *     
1023:../SPL/src/stm32f10x_i2c.c ****   * @note: For detailed description of Events, please refer to section 
1024:../SPL/src/stm32f10x_i2c.c ****   *    I2C_Events in stm32f10x_i2c.h file.
1025:../SPL/src/stm32f10x_i2c.c ****   *    
1026:../SPL/src/stm32f10x_i2c.c ****   * @retval An ErrorStatus enumeration value:
1027:../SPL/src/stm32f10x_i2c.c ****   * - SUCCESS: Last event is equal to the I2C_EVENT
1028:../SPL/src/stm32f10x_i2c.c ****   * - ERROR: Last event is different from the I2C_EVENT
1029:../SPL/src/stm32f10x_i2c.c ****   */
1030:../SPL/src/stm32f10x_i2c.c **** ErrorStatus I2C_CheckEvent(I2C_TypeDef* I2Cx, uint32_t I2C_EVENT)
1031:../SPL/src/stm32f10x_i2c.c **** {
 1693              		.loc 1 1031 0
 1694              		.cfi_startproc
 1695              		@ args = 0, pretend = 0, frame = 24
 1696              		@ frame_needed = 1, uses_anonymous_args = 0
 1697              		@ link register save eliminated.
 1698 0000 80B4     		push	{r7}
 1699              	.LCFI81:
 1700              		.cfi_def_cfa_offset 4
 1701              		.cfi_offset 7, -4
 1702 0002 87B0     		sub	sp, sp, #28
 1703              	.LCFI82:
 1704              		.cfi_def_cfa_offset 32
 1705 0004 00AF     		add	r7, sp, #0
 1706              	.LCFI83:
 1707              		.cfi_def_cfa_register 7
 1708 0006 7860     		str	r0, [r7, #4]
 1709 0008 3960     		str	r1, [r7, #0]
1032:../SPL/src/stm32f10x_i2c.c ****   uint32_t lastevent = 0;
 1710              		.loc 1 1032 0
 1711 000a 4FF00003 		mov	r3, #0
 1712 000e 3B61     		str	r3, [r7, #16]
1033:../SPL/src/stm32f10x_i2c.c ****   uint32_t flag1 = 0, flag2 = 0;
 1713              		.loc 1 1033 0
 1714 0010 4FF00003 		mov	r3, #0
 1715 0014 FB60     		str	r3, [r7, #12]
 1716 0016 4FF00003 		mov	r3, #0
 1717 001a BB60     		str	r3, [r7, #8]
1034:../SPL/src/stm32f10x_i2c.c ****   ErrorStatus status = ERROR;
 1718              		.loc 1 1034 0
 1719 001c 4FF00003 		mov	r3, #0
 1720 0020 FB75     		strb	r3, [r7, #23]
1035:../SPL/src/stm32f10x_i2c.c **** 
1036:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
1037:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
1038:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_EVENT(I2C_EVENT));
1039:../SPL/src/stm32f10x_i2c.c **** 
1040:../SPL/src/stm32f10x_i2c.c ****   /* Read the I2Cx status register */
1041:../SPL/src/stm32f10x_i2c.c ****   flag1 = I2Cx->SR1;
 1721              		.loc 1 1041 0
 1722 0022 7B68     		ldr	r3, [r7, #4]
 1723 0024 9B8A     		ldrh	r3, [r3, #20]	@ movhi
 1724 0026 9BB2     		uxth	r3, r3
 1725 0028 FB60     		str	r3, [r7, #12]
1042:../SPL/src/stm32f10x_i2c.c ****   flag2 = I2Cx->SR2;
 1726              		.loc 1 1042 0
 1727 002a 7B68     		ldr	r3, [r7, #4]
 1728 002c 1B8B     		ldrh	r3, [r3, #24]	@ movhi
 1729 002e 9BB2     		uxth	r3, r3
 1730 0030 BB60     		str	r3, [r7, #8]
1043:../SPL/src/stm32f10x_i2c.c ****   flag2 = flag2 << 16;
 1731              		.loc 1 1043 0
 1732 0032 BB68     		ldr	r3, [r7, #8]
 1733 0034 4FEA0343 		lsl	r3, r3, #16
 1734 0038 BB60     		str	r3, [r7, #8]
1044:../SPL/src/stm32f10x_i2c.c **** 
1045:../SPL/src/stm32f10x_i2c.c ****   /* Get the last event value from I2C status register */
1046:../SPL/src/stm32f10x_i2c.c ****   lastevent = (flag1 | flag2) & FLAG_Mask;
 1735              		.loc 1 1046 0
 1736 003a FA68     		ldr	r2, [r7, #12]
 1737 003c BB68     		ldr	r3, [r7, #8]
 1738 003e 1343     		orrs	r3, r3, r2
 1739 0040 23F07F43 		bic	r3, r3, #-16777216
 1740 0044 3B61     		str	r3, [r7, #16]
1047:../SPL/src/stm32f10x_i2c.c **** 
1048:../SPL/src/stm32f10x_i2c.c ****   /* Check whether the last event contains the I2C_EVENT */
1049:../SPL/src/stm32f10x_i2c.c ****   if ((lastevent & I2C_EVENT) == I2C_EVENT)
 1741              		.loc 1 1049 0
 1742 0046 3A69     		ldr	r2, [r7, #16]
 1743 0048 3B68     		ldr	r3, [r7, #0]
 1744 004a 1A40     		ands	r2, r2, r3
 1745 004c 3B68     		ldr	r3, [r7, #0]
 1746 004e 9A42     		cmp	r2, r3
 1747 0050 03D1     		bne	.L82
1050:../SPL/src/stm32f10x_i2c.c ****   {
1051:../SPL/src/stm32f10x_i2c.c ****     /* SUCCESS: last event is equal to I2C_EVENT */
1052:../SPL/src/stm32f10x_i2c.c ****     status = SUCCESS;
 1748              		.loc 1 1052 0
 1749 0052 4FF00103 		mov	r3, #1
 1750 0056 FB75     		strb	r3, [r7, #23]
 1751 0058 02E0     		b	.L83
 1752              	.L82:
1053:../SPL/src/stm32f10x_i2c.c ****   }
1054:../SPL/src/stm32f10x_i2c.c ****   else
1055:../SPL/src/stm32f10x_i2c.c ****   {
1056:../SPL/src/stm32f10x_i2c.c ****     /* ERROR: last event is different from I2C_EVENT */
1057:../SPL/src/stm32f10x_i2c.c ****     status = ERROR;
 1753              		.loc 1 1057 0
 1754 005a 4FF00003 		mov	r3, #0
 1755 005e FB75     		strb	r3, [r7, #23]
 1756              	.L83:
1058:../SPL/src/stm32f10x_i2c.c ****   }
1059:../SPL/src/stm32f10x_i2c.c ****   /* Return status */
1060:../SPL/src/stm32f10x_i2c.c ****   return status;
 1757              		.loc 1 1060 0
 1758 0060 FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1061:../SPL/src/stm32f10x_i2c.c **** }
 1759              		.loc 1 1061 0
 1760 0062 1846     		mov	r0, r3
 1761 0064 07F11C07 		add	r7, r7, #28
 1762 0068 BD46     		mov	sp, r7
 1763 006a 80BC     		pop	{r7}
 1764 006c 7047     		bx	lr
 1765              		.cfi_endproc
 1766              	.LFE56:
 1768 006e 00BF     		.section	.text.I2C_GetLastEvent,"ax",%progbits
 1769              		.align	2
 1770              		.global	I2C_GetLastEvent
 1771              		.thumb
 1772              		.thumb_func
 1774              	I2C_GetLastEvent:
 1775              	.LFB57:
1062:../SPL/src/stm32f10x_i2c.c **** 
1063:../SPL/src/stm32f10x_i2c.c **** /**
1064:../SPL/src/stm32f10x_i2c.c ****  * 
1065:../SPL/src/stm32f10x_i2c.c ****  *  2) Advanced state monitoring
1066:../SPL/src/stm32f10x_i2c.c ****  *******************************************************************************
1067:../SPL/src/stm32f10x_i2c.c ****  */
1068:../SPL/src/stm32f10x_i2c.c **** 
1069:../SPL/src/stm32f10x_i2c.c **** /**
1070:../SPL/src/stm32f10x_i2c.c ****   * @brief  Returns the last I2Cx Event.
1071:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1072:../SPL/src/stm32f10x_i2c.c ****   *     
1073:../SPL/src/stm32f10x_i2c.c ****   * @note: For detailed description of Events, please refer to section 
1074:../SPL/src/stm32f10x_i2c.c ****   *    I2C_Events in stm32f10x_i2c.h file.
1075:../SPL/src/stm32f10x_i2c.c ****   *    
1076:../SPL/src/stm32f10x_i2c.c ****   * @retval The last event
1077:../SPL/src/stm32f10x_i2c.c ****   */
1078:../SPL/src/stm32f10x_i2c.c **** uint32_t I2C_GetLastEvent(I2C_TypeDef* I2Cx)
1079:../SPL/src/stm32f10x_i2c.c **** {
 1776              		.loc 1 1079 0
 1777              		.cfi_startproc
 1778              		@ args = 0, pretend = 0, frame = 24
 1779              		@ frame_needed = 1, uses_anonymous_args = 0
 1780              		@ link register save eliminated.
 1781 0000 80B4     		push	{r7}
 1782              	.LCFI84:
 1783              		.cfi_def_cfa_offset 4
 1784              		.cfi_offset 7, -4
 1785 0002 87B0     		sub	sp, sp, #28
 1786              	.LCFI85:
 1787              		.cfi_def_cfa_offset 32
 1788 0004 00AF     		add	r7, sp, #0
 1789              	.LCFI86:
 1790              		.cfi_def_cfa_register 7
 1791 0006 7860     		str	r0, [r7, #4]
1080:../SPL/src/stm32f10x_i2c.c ****   uint32_t lastevent = 0;
 1792              		.loc 1 1080 0
 1793 0008 4FF00003 		mov	r3, #0
 1794 000c 7B61     		str	r3, [r7, #20]
1081:../SPL/src/stm32f10x_i2c.c ****   uint32_t flag1 = 0, flag2 = 0;
 1795              		.loc 1 1081 0
 1796 000e 4FF00003 		mov	r3, #0
 1797 0012 3B61     		str	r3, [r7, #16]
 1798 0014 4FF00003 		mov	r3, #0
 1799 0018 FB60     		str	r3, [r7, #12]
1082:../SPL/src/stm32f10x_i2c.c **** 
1083:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
1084:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
1085:../SPL/src/stm32f10x_i2c.c **** 
1086:../SPL/src/stm32f10x_i2c.c ****   /* Read the I2Cx status register */
1087:../SPL/src/stm32f10x_i2c.c ****   flag1 = I2Cx->SR1;
 1800              		.loc 1 1087 0
 1801 001a 7B68     		ldr	r3, [r7, #4]
 1802 001c 9B8A     		ldrh	r3, [r3, #20]	@ movhi
 1803 001e 9BB2     		uxth	r3, r3
 1804 0020 3B61     		str	r3, [r7, #16]
1088:../SPL/src/stm32f10x_i2c.c ****   flag2 = I2Cx->SR2;
 1805              		.loc 1 1088 0
 1806 0022 7B68     		ldr	r3, [r7, #4]
 1807 0024 1B8B     		ldrh	r3, [r3, #24]	@ movhi
 1808 0026 9BB2     		uxth	r3, r3
 1809 0028 FB60     		str	r3, [r7, #12]
1089:../SPL/src/stm32f10x_i2c.c ****   flag2 = flag2 << 16;
 1810              		.loc 1 1089 0
 1811 002a FB68     		ldr	r3, [r7, #12]
 1812 002c 4FEA0343 		lsl	r3, r3, #16
 1813 0030 FB60     		str	r3, [r7, #12]
1090:../SPL/src/stm32f10x_i2c.c **** 
1091:../SPL/src/stm32f10x_i2c.c ****   /* Get the last event value from I2C status register */
1092:../SPL/src/stm32f10x_i2c.c ****   lastevent = (flag1 | flag2) & FLAG_Mask;
 1814              		.loc 1 1092 0
 1815 0032 3A69     		ldr	r2, [r7, #16]
 1816 0034 FB68     		ldr	r3, [r7, #12]
 1817 0036 1343     		orrs	r3, r3, r2
 1818 0038 23F07F43 		bic	r3, r3, #-16777216
 1819 003c 7B61     		str	r3, [r7, #20]
1093:../SPL/src/stm32f10x_i2c.c **** 
1094:../SPL/src/stm32f10x_i2c.c ****   /* Return status */
1095:../SPL/src/stm32f10x_i2c.c ****   return lastevent;
 1820              		.loc 1 1095 0
 1821 003e 7B69     		ldr	r3, [r7, #20]
1096:../SPL/src/stm32f10x_i2c.c **** }
 1822              		.loc 1 1096 0
 1823 0040 1846     		mov	r0, r3
 1824 0042 07F11C07 		add	r7, r7, #28
 1825 0046 BD46     		mov	sp, r7
 1826 0048 80BC     		pop	{r7}
 1827 004a 7047     		bx	lr
 1828              		.cfi_endproc
 1829              	.LFE57:
 1831              		.section	.text.I2C_GetFlagStatus,"ax",%progbits
 1832              		.align	2
 1833              		.global	I2C_GetFlagStatus
 1834              		.thumb
 1835              		.thumb_func
 1837              	I2C_GetFlagStatus:
 1838              	.LFB58:
1097:../SPL/src/stm32f10x_i2c.c **** 
1098:../SPL/src/stm32f10x_i2c.c **** /**
1099:../SPL/src/stm32f10x_i2c.c ****  * 
1100:../SPL/src/stm32f10x_i2c.c ****  *  3) Flag-based state monitoring
1101:../SPL/src/stm32f10x_i2c.c ****  *******************************************************************************
1102:../SPL/src/stm32f10x_i2c.c ****  */
1103:../SPL/src/stm32f10x_i2c.c **** 
1104:../SPL/src/stm32f10x_i2c.c **** /**
1105:../SPL/src/stm32f10x_i2c.c ****   * @brief  Checks whether the specified I2C flag is set or not.
1106:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1107:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_FLAG: specifies the flag to check. 
1108:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
1109:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_DUALF: Dual flag (Slave mode)
1110:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SMBHOST: SMBus host header (Slave mode)
1111:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SMBDEFAULT: SMBus default header (Slave mode)
1112:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_GENCALL: General call header flag (Slave mode)
1113:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_TRA: Transmitter/Receiver flag
1114:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_BUSY: Bus busy flag
1115:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_MSL: Master/Slave flag
1116:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SMBALERT: SMBus Alert flag
1117:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_TIMEOUT: Timeout or Tlow error flag
1118:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_PECERR: PEC error in reception flag
1119:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_OVR: Overrun/Underrun flag (Slave mode)
1120:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_AF: Acknowledge failure flag
1121:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_ARLO: Arbitration lost flag (Master mode)
1122:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_BERR: Bus error flag
1123:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_TXE: Data register empty flag (Transmitter)
1124:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_RXNE: Data register not empty (Receiver) flag
1125:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_STOPF: Stop detection flag (Slave mode)
1126:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_ADD10: 10-bit header sent flag (Master mode)
1127:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_BTF: Byte transfer finished flag
1128:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_ADDR: Address sent flag (Master mode) "ADSL"
1129:../SPL/src/stm32f10x_i2c.c ****   *   Address matched flag (Slave mode)"ENDA"
1130:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SB: Start bit flag (Master mode)
1131:../SPL/src/stm32f10x_i2c.c ****   * @retval The new state of I2C_FLAG (SET or RESET).
1132:../SPL/src/stm32f10x_i2c.c ****   */
1133:../SPL/src/stm32f10x_i2c.c **** FlagStatus I2C_GetFlagStatus(I2C_TypeDef* I2Cx, uint32_t I2C_FLAG)
1134:../SPL/src/stm32f10x_i2c.c **** {
 1839              		.loc 1 1134 0
 1840              		.cfi_startproc
 1841              		@ args = 0, pretend = 0, frame = 24
 1842              		@ frame_needed = 1, uses_anonymous_args = 0
 1843              		@ link register save eliminated.
 1844 0000 80B4     		push	{r7}
 1845              	.LCFI87:
 1846              		.cfi_def_cfa_offset 4
 1847              		.cfi_offset 7, -4
 1848 0002 87B0     		sub	sp, sp, #28
 1849              	.LCFI88:
 1850              		.cfi_def_cfa_offset 32
 1851 0004 00AF     		add	r7, sp, #0
 1852              	.LCFI89:
 1853              		.cfi_def_cfa_register 7
 1854 0006 7860     		str	r0, [r7, #4]
 1855 0008 3960     		str	r1, [r7, #0]
1135:../SPL/src/stm32f10x_i2c.c ****   FlagStatus bitstatus = RESET;
 1856              		.loc 1 1135 0
 1857 000a 4FF00003 		mov	r3, #0
 1858 000e FB75     		strb	r3, [r7, #23]
1136:../SPL/src/stm32f10x_i2c.c ****   __IO uint32_t i2creg = 0, i2cxbase = 0;
 1859              		.loc 1 1136 0
 1860 0010 4FF00003 		mov	r3, #0
 1861 0014 3B61     		str	r3, [r7, #16]
 1862 0016 4FF00003 		mov	r3, #0
 1863 001a FB60     		str	r3, [r7, #12]
1137:../SPL/src/stm32f10x_i2c.c **** 
1138:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
1139:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
1140:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_GET_FLAG(I2C_FLAG));
1141:../SPL/src/stm32f10x_i2c.c **** 
1142:../SPL/src/stm32f10x_i2c.c ****   /* Get the I2Cx peripheral base address */
1143:../SPL/src/stm32f10x_i2c.c ****   i2cxbase = (uint32_t)I2Cx;
 1864              		.loc 1 1143 0
 1865 001c 7B68     		ldr	r3, [r7, #4]
 1866 001e FB60     		str	r3, [r7, #12]
1144:../SPL/src/stm32f10x_i2c.c ****   
1145:../SPL/src/stm32f10x_i2c.c ****   /* Read flag register index */
1146:../SPL/src/stm32f10x_i2c.c ****   i2creg = I2C_FLAG >> 28;
 1867              		.loc 1 1146 0
 1868 0020 3B68     		ldr	r3, [r7, #0]
 1869 0022 4FEA1373 		lsr	r3, r3, #28
 1870 0026 3B61     		str	r3, [r7, #16]
1147:../SPL/src/stm32f10x_i2c.c ****   
1148:../SPL/src/stm32f10x_i2c.c ****   /* Get bit[23:0] of the flag */
1149:../SPL/src/stm32f10x_i2c.c ****   I2C_FLAG &= FLAG_Mask;
 1871              		.loc 1 1149 0
 1872 0028 3B68     		ldr	r3, [r7, #0]
 1873 002a 23F07F43 		bic	r3, r3, #-16777216
 1874 002e 3B60     		str	r3, [r7, #0]
1150:../SPL/src/stm32f10x_i2c.c ****   
1151:../SPL/src/stm32f10x_i2c.c ****   if(i2creg != 0)
 1875              		.loc 1 1151 0
 1876 0030 3B69     		ldr	r3, [r7, #16]
 1877 0032 002B     		cmp	r3, #0
 1878 0034 04D0     		beq	.L88
1152:../SPL/src/stm32f10x_i2c.c ****   {
1153:../SPL/src/stm32f10x_i2c.c ****     /* Get the I2Cx SR1 register address */
1154:../SPL/src/stm32f10x_i2c.c ****     i2cxbase += 0x14;
 1879              		.loc 1 1154 0
 1880 0036 FB68     		ldr	r3, [r7, #12]
 1881 0038 03F11403 		add	r3, r3, #20
 1882 003c FB60     		str	r3, [r7, #12]
 1883 003e 07E0     		b	.L89
 1884              	.L88:
1155:../SPL/src/stm32f10x_i2c.c ****   }
1156:../SPL/src/stm32f10x_i2c.c ****   else
1157:../SPL/src/stm32f10x_i2c.c ****   {
1158:../SPL/src/stm32f10x_i2c.c ****     /* Flag in I2Cx SR2 Register */
1159:../SPL/src/stm32f10x_i2c.c ****     I2C_FLAG = (uint32_t)(I2C_FLAG >> 16);
 1885              		.loc 1 1159 0
 1886 0040 3B68     		ldr	r3, [r7, #0]
 1887 0042 4FEA1343 		lsr	r3, r3, #16
 1888 0046 3B60     		str	r3, [r7, #0]
1160:../SPL/src/stm32f10x_i2c.c ****     /* Get the I2Cx SR2 register address */
1161:../SPL/src/stm32f10x_i2c.c ****     i2cxbase += 0x18;
 1889              		.loc 1 1161 0
 1890 0048 FB68     		ldr	r3, [r7, #12]
 1891 004a 03F11803 		add	r3, r3, #24
 1892 004e FB60     		str	r3, [r7, #12]
 1893              	.L89:
1162:../SPL/src/stm32f10x_i2c.c ****   }
1163:../SPL/src/stm32f10x_i2c.c ****   
1164:../SPL/src/stm32f10x_i2c.c ****   if(((*(__IO uint32_t *)i2cxbase) & I2C_FLAG) != (uint32_t)RESET)
 1894              		.loc 1 1164 0
 1895 0050 FB68     		ldr	r3, [r7, #12]
 1896 0052 1A68     		ldr	r2, [r3, #0]
 1897 0054 3B68     		ldr	r3, [r7, #0]
 1898 0056 1340     		ands	r3, r3, r2
 1899 0058 002B     		cmp	r3, #0
 1900 005a 03D0     		beq	.L90
1165:../SPL/src/stm32f10x_i2c.c ****   {
1166:../SPL/src/stm32f10x_i2c.c ****     /* I2C_FLAG is set */
1167:../SPL/src/stm32f10x_i2c.c ****     bitstatus = SET;
 1901              		.loc 1 1167 0
 1902 005c 4FF00103 		mov	r3, #1
 1903 0060 FB75     		strb	r3, [r7, #23]
 1904 0062 02E0     		b	.L91
 1905              	.L90:
1168:../SPL/src/stm32f10x_i2c.c ****   }
1169:../SPL/src/stm32f10x_i2c.c ****   else
1170:../SPL/src/stm32f10x_i2c.c ****   {
1171:../SPL/src/stm32f10x_i2c.c ****     /* I2C_FLAG is reset */
1172:../SPL/src/stm32f10x_i2c.c ****     bitstatus = RESET;
 1906              		.loc 1 1172 0
 1907 0064 4FF00003 		mov	r3, #0
 1908 0068 FB75     		strb	r3, [r7, #23]
 1909              	.L91:
1173:../SPL/src/stm32f10x_i2c.c ****   }
1174:../SPL/src/stm32f10x_i2c.c ****   
1175:../SPL/src/stm32f10x_i2c.c ****   /* Return the I2C_FLAG status */
1176:../SPL/src/stm32f10x_i2c.c ****   return  bitstatus;
 1910              		.loc 1 1176 0
 1911 006a FB7D     		ldrb	r3, [r7, #23]	@ zero_extendqisi2
1177:../SPL/src/stm32f10x_i2c.c **** }
 1912              		.loc 1 1177 0
 1913 006c 1846     		mov	r0, r3
 1914 006e 07F11C07 		add	r7, r7, #28
 1915 0072 BD46     		mov	sp, r7
 1916 0074 80BC     		pop	{r7}
 1917 0076 7047     		bx	lr
 1918              		.cfi_endproc
 1919              	.LFE58:
 1921              		.section	.text.I2C_ClearFlag,"ax",%progbits
 1922              		.align	2
 1923              		.global	I2C_ClearFlag
 1924              		.thumb
 1925              		.thumb_func
 1927              	I2C_ClearFlag:
 1928              	.LFB59:
1178:../SPL/src/stm32f10x_i2c.c **** 
1179:../SPL/src/stm32f10x_i2c.c **** 
1180:../SPL/src/stm32f10x_i2c.c **** 
1181:../SPL/src/stm32f10x_i2c.c **** /**
1182:../SPL/src/stm32f10x_i2c.c ****   * @brief  Clears the I2Cx's pending flags.
1183:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1184:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_FLAG: specifies the flag to clear. 
1185:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be any combination of the following values:
1186:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_SMBALERT: SMBus Alert flag
1187:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_TIMEOUT: Timeout or Tlow error flag
1188:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_PECERR: PEC error in reception flag
1189:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_OVR: Overrun/Underrun flag (Slave mode)
1190:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_AF: Acknowledge failure flag
1191:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_ARLO: Arbitration lost flag (Master mode)
1192:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_FLAG_BERR: Bus error flag
1193:../SPL/src/stm32f10x_i2c.c ****   *   
1194:../SPL/src/stm32f10x_i2c.c ****   * @note
1195:../SPL/src/stm32f10x_i2c.c ****   *   - STOPF (STOP detection) is cleared by software sequence: a read operation 
1196:../SPL/src/stm32f10x_i2c.c ****   *     to I2C_SR1 register (I2C_GetFlagStatus()) followed by a write operation 
1197:../SPL/src/stm32f10x_i2c.c ****   *     to I2C_CR1 register (I2C_Cmd() to re-enable the I2C peripheral).
1198:../SPL/src/stm32f10x_i2c.c ****   *   - ADD10 (10-bit header sent) is cleared by software sequence: a read 
1199:../SPL/src/stm32f10x_i2c.c ****   *     operation to I2C_SR1 (I2C_GetFlagStatus()) followed by writing the 
1200:../SPL/src/stm32f10x_i2c.c ****   *     second byte of the address in DR register.
1201:../SPL/src/stm32f10x_i2c.c ****   *   - BTF (Byte Transfer Finished) is cleared by software sequence: a read 
1202:../SPL/src/stm32f10x_i2c.c ****   *     operation to I2C_SR1 register (I2C_GetFlagStatus()) followed by a 
1203:../SPL/src/stm32f10x_i2c.c ****   *     read/write to I2C_DR register (I2C_SendData()).
1204:../SPL/src/stm32f10x_i2c.c ****   *   - ADDR (Address sent) is cleared by software sequence: a read operation to 
1205:../SPL/src/stm32f10x_i2c.c ****   *     I2C_SR1 register (I2C_GetFlagStatus()) followed by a read operation to 
1206:../SPL/src/stm32f10x_i2c.c ****   *     I2C_SR2 register ((void)(I2Cx->SR2)).
1207:../SPL/src/stm32f10x_i2c.c ****   *   - SB (Start Bit) is cleared software sequence: a read operation to I2C_SR1
1208:../SPL/src/stm32f10x_i2c.c ****   *     register (I2C_GetFlagStatus()) followed by a write operation to I2C_DR
1209:../SPL/src/stm32f10x_i2c.c ****   *     register  (I2C_SendData()).
1210:../SPL/src/stm32f10x_i2c.c ****   * @retval None
1211:../SPL/src/stm32f10x_i2c.c ****   */
1212:../SPL/src/stm32f10x_i2c.c **** void I2C_ClearFlag(I2C_TypeDef* I2Cx, uint32_t I2C_FLAG)
1213:../SPL/src/stm32f10x_i2c.c **** {
 1929              		.loc 1 1213 0
 1930              		.cfi_startproc
 1931              		@ args = 0, pretend = 0, frame = 16
 1932              		@ frame_needed = 1, uses_anonymous_args = 0
 1933              		@ link register save eliminated.
 1934 0000 80B4     		push	{r7}
 1935              	.LCFI90:
 1936              		.cfi_def_cfa_offset 4
 1937              		.cfi_offset 7, -4
 1938 0002 85B0     		sub	sp, sp, #20
 1939              	.LCFI91:
 1940              		.cfi_def_cfa_offset 24
 1941 0004 00AF     		add	r7, sp, #0
 1942              	.LCFI92:
 1943              		.cfi_def_cfa_register 7
 1944 0006 7860     		str	r0, [r7, #4]
 1945 0008 3960     		str	r1, [r7, #0]
1214:../SPL/src/stm32f10x_i2c.c ****   uint32_t flagpos = 0;
 1946              		.loc 1 1214 0
 1947 000a 4FF00003 		mov	r3, #0
 1948 000e FB60     		str	r3, [r7, #12]
1215:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
1216:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
1217:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_CLEAR_FLAG(I2C_FLAG));
1218:../SPL/src/stm32f10x_i2c.c ****   /* Get the I2C flag position */
1219:../SPL/src/stm32f10x_i2c.c ****   flagpos = I2C_FLAG & FLAG_Mask;
 1949              		.loc 1 1219 0
 1950 0010 3B68     		ldr	r3, [r7, #0]
 1951 0012 23F07F43 		bic	r3, r3, #-16777216
 1952 0016 FB60     		str	r3, [r7, #12]
1220:../SPL/src/stm32f10x_i2c.c ****   /* Clear the selected I2C flag */
1221:../SPL/src/stm32f10x_i2c.c ****   I2Cx->SR1 = (uint16_t)~flagpos;
 1953              		.loc 1 1221 0
 1954 0018 FB68     		ldr	r3, [r7, #12]
 1955 001a 9BB2     		uxth	r3, r3
 1956 001c 6FEA0303 		mvn	r3, r3
 1957 0020 9AB2     		uxth	r2, r3
 1958 0022 7B68     		ldr	r3, [r7, #4]
 1959 0024 9A82     		strh	r2, [r3, #20]	@ movhi
1222:../SPL/src/stm32f10x_i2c.c **** }
 1960              		.loc 1 1222 0
 1961 0026 07F11407 		add	r7, r7, #20
 1962 002a BD46     		mov	sp, r7
 1963 002c 80BC     		pop	{r7}
 1964 002e 7047     		bx	lr
 1965              		.cfi_endproc
 1966              	.LFE59:
 1968              		.section	.text.I2C_GetITStatus,"ax",%progbits
 1969              		.align	2
 1970              		.global	I2C_GetITStatus
 1971              		.thumb
 1972              		.thumb_func
 1974              	I2C_GetITStatus:
 1975              	.LFB60:
1223:../SPL/src/stm32f10x_i2c.c **** 
1224:../SPL/src/stm32f10x_i2c.c **** /**
1225:../SPL/src/stm32f10x_i2c.c ****   * @brief  Checks whether the specified I2C interrupt has occurred or not.
1226:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1227:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_IT: specifies the interrupt source to check. 
1228:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be one of the following values:
1229:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_SMBALERT: SMBus Alert flag
1230:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_TIMEOUT: Timeout or Tlow error flag
1231:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_PECERR: PEC error in reception flag
1232:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_OVR: Overrun/Underrun flag (Slave mode)
1233:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_AF: Acknowledge failure flag
1234:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ARLO: Arbitration lost flag (Master mode)
1235:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_BERR: Bus error flag
1236:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_TXE: Data register empty flag (Transmitter)
1237:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_RXNE: Data register not empty (Receiver) flag
1238:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_STOPF: Stop detection flag (Slave mode)
1239:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ADD10: 10-bit header sent flag (Master mode)
1240:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_BTF: Byte transfer finished flag
1241:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ADDR: Address sent flag (Master mode) "ADSL"
1242:../SPL/src/stm32f10x_i2c.c ****   *                       Address matched flag (Slave mode)"ENDAD"
1243:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_SB: Start bit flag (Master mode)
1244:../SPL/src/stm32f10x_i2c.c ****   * @retval The new state of I2C_IT (SET or RESET).
1245:../SPL/src/stm32f10x_i2c.c ****   */
1246:../SPL/src/stm32f10x_i2c.c **** ITStatus I2C_GetITStatus(I2C_TypeDef* I2Cx, uint32_t I2C_IT)
1247:../SPL/src/stm32f10x_i2c.c **** {
 1976              		.loc 1 1247 0
 1977              		.cfi_startproc
 1978              		@ args = 0, pretend = 0, frame = 16
 1979              		@ frame_needed = 1, uses_anonymous_args = 0
 1980              		@ link register save eliminated.
 1981 0000 80B4     		push	{r7}
 1982              	.LCFI93:
 1983              		.cfi_def_cfa_offset 4
 1984              		.cfi_offset 7, -4
 1985 0002 85B0     		sub	sp, sp, #20
 1986              	.LCFI94:
 1987              		.cfi_def_cfa_offset 24
 1988 0004 00AF     		add	r7, sp, #0
 1989              	.LCFI95:
 1990              		.cfi_def_cfa_register 7
 1991 0006 7860     		str	r0, [r7, #4]
 1992 0008 3960     		str	r1, [r7, #0]
1248:../SPL/src/stm32f10x_i2c.c ****   ITStatus bitstatus = RESET;
 1993              		.loc 1 1248 0
 1994 000a 4FF00003 		mov	r3, #0
 1995 000e FB73     		strb	r3, [r7, #15]
1249:../SPL/src/stm32f10x_i2c.c ****   uint32_t enablestatus = 0;
 1996              		.loc 1 1249 0
 1997 0010 4FF00003 		mov	r3, #0
 1998 0014 BB60     		str	r3, [r7, #8]
1250:../SPL/src/stm32f10x_i2c.c **** 
1251:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
1252:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
1253:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_GET_IT(I2C_IT));
1254:../SPL/src/stm32f10x_i2c.c **** 
1255:../SPL/src/stm32f10x_i2c.c ****   /* Check if the interrupt source is enabled or not */
1256:../SPL/src/stm32f10x_i2c.c ****   enablestatus = (uint32_t)(((I2C_IT & ITEN_Mask) >> 16) & (I2Cx->CR2)) ;
 1999              		.loc 1 1256 0
 2000 0016 3B68     		ldr	r3, [r7, #0]
 2001 0018 03F0E063 		and	r3, r3, #117440512
 2002 001c 4FEA1342 		lsr	r2, r3, #16
 2003 0020 7B68     		ldr	r3, [r7, #4]
 2004 0022 9B88     		ldrh	r3, [r3, #4]	@ movhi
 2005 0024 9BB2     		uxth	r3, r3
 2006 0026 1340     		ands	r3, r3, r2
 2007 0028 BB60     		str	r3, [r7, #8]
1257:../SPL/src/stm32f10x_i2c.c ****   
1258:../SPL/src/stm32f10x_i2c.c ****   /* Get bit[23:0] of the flag */
1259:../SPL/src/stm32f10x_i2c.c ****   I2C_IT &= FLAG_Mask;
 2008              		.loc 1 1259 0
 2009 002a 3B68     		ldr	r3, [r7, #0]
 2010 002c 23F07F43 		bic	r3, r3, #-16777216
 2011 0030 3B60     		str	r3, [r7, #0]
1260:../SPL/src/stm32f10x_i2c.c **** 
1261:../SPL/src/stm32f10x_i2c.c ****   /* Check the status of the specified I2C flag */
1262:../SPL/src/stm32f10x_i2c.c ****   if (((I2Cx->SR1 & I2C_IT) != (uint32_t)RESET) && enablestatus)
 2012              		.loc 1 1262 0
 2013 0032 7B68     		ldr	r3, [r7, #4]
 2014 0034 9B8A     		ldrh	r3, [r3, #20]	@ movhi
 2015 0036 9BB2     		uxth	r3, r3
 2016 0038 1A46     		mov	r2, r3
 2017 003a 3B68     		ldr	r3, [r7, #0]
 2018 003c 1340     		ands	r3, r3, r2
 2019 003e 002B     		cmp	r3, #0
 2020 0040 06D0     		beq	.L95
 2021              		.loc 1 1262 0 is_stmt 0 discriminator 1
 2022 0042 BB68     		ldr	r3, [r7, #8]
 2023 0044 002B     		cmp	r3, #0
 2024 0046 03D0     		beq	.L95
1263:../SPL/src/stm32f10x_i2c.c ****   {
1264:../SPL/src/stm32f10x_i2c.c ****     /* I2C_IT is set */
1265:../SPL/src/stm32f10x_i2c.c ****     bitstatus = SET;
 2025              		.loc 1 1265 0 is_stmt 1
 2026 0048 4FF00103 		mov	r3, #1
 2027 004c FB73     		strb	r3, [r7, #15]
 2028 004e 02E0     		b	.L96
 2029              	.L95:
1266:../SPL/src/stm32f10x_i2c.c ****   }
1267:../SPL/src/stm32f10x_i2c.c ****   else
1268:../SPL/src/stm32f10x_i2c.c ****   {
1269:../SPL/src/stm32f10x_i2c.c ****     /* I2C_IT is reset */
1270:../SPL/src/stm32f10x_i2c.c ****     bitstatus = RESET;
 2030              		.loc 1 1270 0
 2031 0050 4FF00003 		mov	r3, #0
 2032 0054 FB73     		strb	r3, [r7, #15]
 2033              	.L96:
1271:../SPL/src/stm32f10x_i2c.c ****   }
1272:../SPL/src/stm32f10x_i2c.c ****   /* Return the I2C_IT status */
1273:../SPL/src/stm32f10x_i2c.c ****   return  bitstatus;
 2034              		.loc 1 1273 0
 2035 0056 FB7B     		ldrb	r3, [r7, #15]	@ zero_extendqisi2
1274:../SPL/src/stm32f10x_i2c.c **** }
 2036              		.loc 1 1274 0
 2037 0058 1846     		mov	r0, r3
 2038 005a 07F11407 		add	r7, r7, #20
 2039 005e BD46     		mov	sp, r7
 2040 0060 80BC     		pop	{r7}
 2041 0062 7047     		bx	lr
 2042              		.cfi_endproc
 2043              	.LFE60:
 2045              		.section	.text.I2C_ClearITPendingBit,"ax",%progbits
 2046              		.align	2
 2047              		.global	I2C_ClearITPendingBit
 2048              		.thumb
 2049              		.thumb_func
 2051              	I2C_ClearITPendingBit:
 2052              	.LFB61:
1275:../SPL/src/stm32f10x_i2c.c **** 
1276:../SPL/src/stm32f10x_i2c.c **** /**
1277:../SPL/src/stm32f10x_i2c.c ****   * @brief  Clears the I2Cxs interrupt pending bits.
1278:../SPL/src/stm32f10x_i2c.c ****   * @param  I2Cx: where x can be 1 or 2 to select the I2C peripheral.
1279:../SPL/src/stm32f10x_i2c.c ****   * @param  I2C_IT: specifies the interrupt pending bit to clear. 
1280:../SPL/src/stm32f10x_i2c.c ****   *   This parameter can be any combination of the following values:
1281:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_SMBALERT: SMBus Alert interrupt
1282:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_TIMEOUT: Timeout or Tlow error interrupt
1283:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_PECERR: PEC error in reception  interrupt
1284:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_OVR: Overrun/Underrun interrupt (Slave mode)
1285:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_AF: Acknowledge failure interrupt
1286:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_ARLO: Arbitration lost interrupt (Master mode)
1287:../SPL/src/stm32f10x_i2c.c ****   *     @arg I2C_IT_BERR: Bus error interrupt
1288:../SPL/src/stm32f10x_i2c.c ****   *   
1289:../SPL/src/stm32f10x_i2c.c ****   * @note
1290:../SPL/src/stm32f10x_i2c.c ****   *   - STOPF (STOP detection) is cleared by software sequence: a read operation 
1291:../SPL/src/stm32f10x_i2c.c ****   *     to I2C_SR1 register (I2C_GetITStatus()) followed by a write operation to 
1292:../SPL/src/stm32f10x_i2c.c ****   *     I2C_CR1 register (I2C_Cmd() to re-enable the I2C peripheral).
1293:../SPL/src/stm32f10x_i2c.c ****   *   - ADD10 (10-bit header sent) is cleared by software sequence: a read 
1294:../SPL/src/stm32f10x_i2c.c ****   *     operation to I2C_SR1 (I2C_GetITStatus()) followed by writing the second 
1295:../SPL/src/stm32f10x_i2c.c ****   *     byte of the address in I2C_DR register.
1296:../SPL/src/stm32f10x_i2c.c ****   *   - BTF (Byte Transfer Finished) is cleared by software sequence: a read 
1297:../SPL/src/stm32f10x_i2c.c ****   *     operation to I2C_SR1 register (I2C_GetITStatus()) followed by a 
1298:../SPL/src/stm32f10x_i2c.c ****   *     read/write to I2C_DR register (I2C_SendData()).
1299:../SPL/src/stm32f10x_i2c.c ****   *   - ADDR (Address sent) is cleared by software sequence: a read operation to 
1300:../SPL/src/stm32f10x_i2c.c ****   *     I2C_SR1 register (I2C_GetITStatus()) followed by a read operation to 
1301:../SPL/src/stm32f10x_i2c.c ****   *     I2C_SR2 register ((void)(I2Cx->SR2)).
1302:../SPL/src/stm32f10x_i2c.c ****   *   - SB (Start Bit) is cleared by software sequence: a read operation to 
1303:../SPL/src/stm32f10x_i2c.c ****   *     I2C_SR1 register (I2C_GetITStatus()) followed by a write operation to 
1304:../SPL/src/stm32f10x_i2c.c ****   *     I2C_DR register (I2C_SendData()).
1305:../SPL/src/stm32f10x_i2c.c ****   * @retval None
1306:../SPL/src/stm32f10x_i2c.c ****   */
1307:../SPL/src/stm32f10x_i2c.c **** void I2C_ClearITPendingBit(I2C_TypeDef* I2Cx, uint32_t I2C_IT)
1308:../SPL/src/stm32f10x_i2c.c **** {
 2053              		.loc 1 1308 0
 2054              		.cfi_startproc
 2055              		@ args = 0, pretend = 0, frame = 16
 2056              		@ frame_needed = 1, uses_anonymous_args = 0
 2057              		@ link register save eliminated.
 2058 0000 80B4     		push	{r7}
 2059              	.LCFI96:
 2060              		.cfi_def_cfa_offset 4
 2061              		.cfi_offset 7, -4
 2062 0002 85B0     		sub	sp, sp, #20
 2063              	.LCFI97:
 2064              		.cfi_def_cfa_offset 24
 2065 0004 00AF     		add	r7, sp, #0
 2066              	.LCFI98:
 2067              		.cfi_def_cfa_register 7
 2068 0006 7860     		str	r0, [r7, #4]
 2069 0008 3960     		str	r1, [r7, #0]
1309:../SPL/src/stm32f10x_i2c.c ****   uint32_t flagpos = 0;
 2070              		.loc 1 1309 0
 2071 000a 4FF00003 		mov	r3, #0
 2072 000e FB60     		str	r3, [r7, #12]
1310:../SPL/src/stm32f10x_i2c.c ****   /* Check the parameters */
1311:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
1312:../SPL/src/stm32f10x_i2c.c ****   assert_param(IS_I2C_CLEAR_IT(I2C_IT));
1313:../SPL/src/stm32f10x_i2c.c ****   /* Get the I2C flag position */
1314:../SPL/src/stm32f10x_i2c.c ****   flagpos = I2C_IT & FLAG_Mask;
 2073              		.loc 1 1314 0
 2074 0010 3B68     		ldr	r3, [r7, #0]
 2075 0012 23F07F43 		bic	r3, r3, #-16777216
 2076 0016 FB60     		str	r3, [r7, #12]
1315:../SPL/src/stm32f10x_i2c.c ****   /* Clear the selected I2C flag */
1316:../SPL/src/stm32f10x_i2c.c ****   I2Cx->SR1 = (uint16_t)~flagpos;
 2077              		.loc 1 1316 0
 2078 0018 FB68     		ldr	r3, [r7, #12]
 2079 001a 9BB2     		uxth	r3, r3
 2080 001c 6FEA0303 		mvn	r3, r3
 2081 0020 9AB2     		uxth	r2, r3
 2082 0022 7B68     		ldr	r3, [r7, #4]
 2083 0024 9A82     		strh	r2, [r3, #20]	@ movhi
1317:../SPL/src/stm32f10x_i2c.c **** }
 2084              		.loc 1 1317 0
 2085 0026 07F11407 		add	r7, r7, #20
 2086 002a BD46     		mov	sp, r7
 2087 002c 80BC     		pop	{r7}
 2088 002e 7047     		bx	lr
 2089              		.cfi_endproc
 2090              	.LFE61:
 2092              		.text
 2093              	.Letext0:
 2094              		.file 2 "c:\\program files (x86)\\codesourcery\\sourcery_codebench_lite_for_arm_eabi\\bin\\../lib/
 2095              		.file 3 "D:\\Discovery\\Test_CopyWS160815\\stm32_ld_vl\\CMSIS/stm32f10x.h"
 2096              		.file 4 "D:\\Discovery\\Test_CopyWS160815\\stm32_ld_vl\\SPL\\inc/stm32f10x_rcc.h"
 2097              		.file 5 "D:\\Discovery\\Test_CopyWS160815\\stm32_ld_vl\\SPL\\inc/stm32f10x_i2c.h"
 2098              		.file 6 "D:\\Discovery\\Test_CopyWS160815\\stm32_ld_vl\\CMSIS/core_cm3.h"
DEFINED SYMBOLS
                            *ABS*:00000000 stm32f10x_i2c.c
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:19     .text.I2C_DeInit:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:24     .text.I2C_DeInit:00000000 I2C_DeInit
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:74     .text.I2C_DeInit:0000004c $d
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:79     .text.I2C_Init:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:84     .text.I2C_Init:00000000 I2C_Init
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:307    .text.I2C_Init:00000194 $d
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:315    .text.I2C_StructInit:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:320    .text.I2C_StructInit:00000000 I2C_StructInit
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:371    .text.I2C_Cmd:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:376    .text.I2C_Cmd:00000000 I2C_Cmd
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:428    .text.I2C_DMACmd:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:433    .text.I2C_DMACmd:00000000 I2C_DMACmd
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:485    .text.I2C_DMALastTransferCmd:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:490    .text.I2C_DMALastTransferCmd:00000000 I2C_DMALastTransferCmd
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:542    .text.I2C_GenerateSTART:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:547    .text.I2C_GenerateSTART:00000000 I2C_GenerateSTART
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:599    .text.I2C_GenerateSTOP:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:604    .text.I2C_GenerateSTOP:00000000 I2C_GenerateSTOP
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:656    .text.I2C_AcknowledgeConfig:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:661    .text.I2C_AcknowledgeConfig:00000000 I2C_AcknowledgeConfig
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:713    .text.I2C_OwnAddress2Config:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:718    .text.I2C_OwnAddress2Config:00000000 I2C_OwnAddress2Config
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:771    .text.I2C_DualAddressCmd:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:776    .text.I2C_DualAddressCmd:00000000 I2C_DualAddressCmd
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:828    .text.I2C_GeneralCallCmd:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:833    .text.I2C_GeneralCallCmd:00000000 I2C_GeneralCallCmd
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:885    .text.I2C_ITConfig:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:890    .text.I2C_ITConfig:00000000 I2C_ITConfig
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:948    .text.I2C_SendData:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:953    .text.I2C_SendData:00000000 I2C_SendData
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:987    .text.I2C_ReceiveData:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:992    .text.I2C_ReceiveData:00000000 I2C_ReceiveData
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1025   .text.I2C_Send7bitAddress:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1030   .text.I2C_Send7bitAddress:00000000 I2C_Send7bitAddress
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1081   .text.I2C_ReadRegister:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1086   .text.I2C_ReadRegister:00000000 I2C_ReadRegister
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1131   .text.I2C_SoftwareResetCmd:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1136   .text.I2C_SoftwareResetCmd:00000000 I2C_SoftwareResetCmd
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1190   .text.I2C_NACKPositionConfig:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1195   .text.I2C_NACKPositionConfig:00000000 I2C_NACKPositionConfig
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1247   .text.I2C_SMBusAlertConfig:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1252   .text.I2C_SMBusAlertConfig:00000000 I2C_SMBusAlertConfig
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1304   .text.I2C_TransmitPEC:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1309   .text.I2C_TransmitPEC:00000000 I2C_TransmitPEC
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1361   .text.I2C_PECPositionConfig:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1366   .text.I2C_PECPositionConfig:00000000 I2C_PECPositionConfig
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1418   .text.I2C_CalculatePEC:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1423   .text.I2C_CalculatePEC:00000000 I2C_CalculatePEC
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1475   .text.I2C_GetPEC:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1480   .text.I2C_GetPEC:00000000 I2C_GetPEC
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1515   .text.I2C_ARPCmd:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1520   .text.I2C_ARPCmd:00000000 I2C_ARPCmd
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1572   .text.I2C_StretchClockCmd:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1577   .text.I2C_StretchClockCmd:00000000 I2C_StretchClockCmd
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1629   .text.I2C_FastModeDutyCycleConfig:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1634   .text.I2C_FastModeDutyCycleConfig:00000000 I2C_FastModeDutyCycleConfig
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1686   .text.I2C_CheckEvent:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1691   .text.I2C_CheckEvent:00000000 I2C_CheckEvent
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1769   .text.I2C_GetLastEvent:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1774   .text.I2C_GetLastEvent:00000000 I2C_GetLastEvent
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1832   .text.I2C_GetFlagStatus:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1837   .text.I2C_GetFlagStatus:00000000 I2C_GetFlagStatus
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1922   .text.I2C_ClearFlag:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1927   .text.I2C_ClearFlag:00000000 I2C_ClearFlag
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1969   .text.I2C_GetITStatus:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:1974   .text.I2C_GetITStatus:00000000 I2C_GetITStatus
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:2046   .text.I2C_ClearITPendingBit:00000000 $t
C:\Users\PC108\AppData\Local\Temp\ccUql1Qd.s:2051   .text.I2C_ClearITPendingBit:00000000 I2C_ClearITPendingBit
                     .debug_frame:00000010 $d
                           .group:00000000 wm4.1.324c4c27747541151387b3982053ed75
                           .group:00000000 wm4.stm32f10x.h.51.b859cb68ed44ee02c916b41cb8c68f1c
                           .group:00000000 wm4.core_cm3.h.25.d35e9a9b04ec4aaebae9bf79fff061f9
                           .group:00000000 wm4.stdint.h.10.90b695f550ca6cc3fb08fa83baf01e05
                           .group:00000000 wm4.core_cm3.h.113.b286929a54d33b4c8909a7132437b244
                           .group:00000000 wm4.stm32f10x.h.522.115ebb8291fa96f8c9e0b9a9b670f703
                           .group:00000000 wm4.stm32f10x_adc.h.83.4d35a50d598070ecea6f33bcef02c922
                           .group:00000000 wm4.stm32f10x_bkp.h.25.4622919f1e30efdad5eb44e12edd5513
                           .group:00000000 wm4.stm32f10x_can.h.25.48aab46fcce6d08400bf960b028e4698
                           .group:00000000 wm4.stm32f10x_cec.h.25.8f03450e7bbb704d96e7bc73ec0f66a7
                           .group:00000000 wm4.stm32f10x_dac.h.25.d946244edf026333094657d55ea894b8
                           .group:00000000 wm4.stm32f10x_dbgmcu.h.25.d3351200fc7f9c8615d1ae81d40db08a
                           .group:00000000 wm4.stm32f10x_dma.h.25.94e36204daa98cae5dcc70a10a9694d5
                           .group:00000000 wm4.stm32f10x_exti.h.25.b9064155c5c006b5154b39788c79001a
                           .group:00000000 wm4.stm32f10x_flash.h.25.4be61fcb02863962a1e006449d310650
                           .group:00000000 wm4.stm32f10x_fsmc.h.25.bca154da2699cdb6024c0c6c4fc5aa89
                           .group:00000000 wm4.stm32f10x_gpio.h.25.80c981af0e637567395034c576cfb3ce
                           .group:00000000 wm4.stm32f10x_iwdg.h.25.da9374ab9856795610487f312ccf3122
                           .group:00000000 wm4.stm32f10x_pwr.h.25.37ef75009f751ef5fe27910e0bf00a62
                           .group:00000000 wm4.stm32f10x_rcc.h.25.fe8897e7491f2eb0cff54551d08eb765
                           .group:00000000 wm4.stm32f10x_rtc.h.25.361142606ba98ddcd10369f321f6e636
                           .group:00000000 wm4.stm32f10x_sdio.h.25.1fb5280a7690ef99070096bf8c866b3a
                           .group:00000000 wm4.stm32f10x_spi.h.25.68b3d5ccfcf895f9fe505ce20c0c300f
                           .group:00000000 wm4.stm32f10x_tim.h.25.21c6ec062f1e74898cb96a57da276fec
                           .group:00000000 wm4.stm32f10x_usart.h.25.29629c699b65db3f3efd3561f66b0bf6
                           .group:00000000 wm4.stm32f10x_wwdg.h.25.dde12201d86b5aa9ecaafb5eccdc6549
                           .group:00000000 wm4.misc.h.25.068e106f368fa5369a681ef57c106f4b
                           .group:00000000 wm4.stm32f10x.h.8304.f7d8ad90959e99679b3257267c3aadfe
                           .group:00000000 wm4.stm32f10x_i2c.h.80.cae20a85c8e57bd2049164c33b2bb54b

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd
RCC_GetClocksFreq
